/**
 * Admin Utilities
 *
 * This is file is required before running any
 * other framework administration JavaScript files.
 *
 * @package Jump_Start
 * @subpackage Theme_Blvd
 * @license GPL-2.0+
 */
function tbc_confirm(t,e,o){window.themeblvd.confirm(t,e,o)}window.themeblvd={},function(t,e){window.themeblvd.isMobile=function(e){return e||(e=t("body")),!!e.hasClass("mobile")||!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}(jQuery),function(t,e,o){window.themeblvd.confirm=function(e,n,d){var i,a,l,s=t("body"),m=t(window);(n=t.extend({confirm:!1,verify:!1,input:!1,inputDesc:"",textOk:o.ok,textCancel:o.cancel,textYes:o.yes,textNo:o.no,className:""},n)).input_desc&&(n.inputDesc=n.input_desc),s.append('<div class="themeblvd-confirm-overlay"></div>'),s.append('<div class="themeblvd-confirm-outer"></div>'),(i=t(".themeblvd-confirm-outer")).append('<div class="themeblvd-confirm-inner"></div>'),(a=t(".themeblvd-confirm-inner")).append(e),i.css("left",(m.width()-i.width())/2+m.scrollLeft()+"px"),i.css("top","100px").fadeIn(200),n.className&&i.addClass(n.className),n.input&&(n.input,a.append('<div class="themeblvd-confirm-input"><input type="text" class="themeblvd-confirm-text-box" t="themeblvd-confirm-text-box" value="'+n.input+'" /></div>'),n.inputDesc&&i.find(".themeblvd-confirm-text-box").after("<label>"+n.inputDesc+"</label>"),i.find(".themeblvd-confirm-text-box").focus()),a.append('<div class="themeblvd-confirm-buttons"></div>'),l=t(".themeblvd-confirm-buttons"),n.confirm||n.input?(l.append('<button class="button-primary" value="ok">'+n.textOk+"</button>"),l.append('<button class="button-secondary" value="cancel">'+n.textCancel+"</button>")):n.verify?(l.append('<button class="button-primary" value="ok">'+n.textYes+"</button>"),l.append('<button class="button-secondary" value="cancel">'+n.textNo+"</button>")):l.append('<button class="button-primary" value="ok">'+n.textOk+"</button>"),t(document).on("keydown",function(e){t(".themeblvd-confirm-overlay").is(":visible")&&(13==e.keyCode&&t('.themeblvd-confirm-buttons > button[value="ok"]').trigger("click"),27==e.keyCode&&t('.themeblvd-confirm-buttons > button[value="cancel"]').trigger("click"))});var c=t(".themeblvd-confirm-text-box").val();t(".themeblvd-confirm-text-box").on("keyup",function(){c=t(this).val()}),l.find("button").on("click",function(){if(t(".themeblvd-confirm-overlay").remove(),i.remove(),d){var e=t(this).attr("value");"ok"==e?d(n.input?c:!0):"cancel"==e&&d(!1)}})}}(jQuery,0,themeblvdL10n),function(t,e){jQuery.fn.themeblvd=function(t,o,n){var d="",i="";return"init"===t&&(t="setup"),t&&(d=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})),o&&(i=o.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})),this.each(function(){void 0!==e[d]?o?void 0!==e[d][i]?void 0!==e[d][i].init?n?e[d][i].init(this,n):e[d][i].init(this):n?e[d][i](this,n):e[d][i](this):console.log('Theme Blvd admin component "'+t+'" is missing part "'+o+'."'):void 0!==e[d].init?n?e[d].init(this,n):e[d].init(this):n?e[d](this,n):e[d](this):console.log('Theme Blvd admin component "'+t+'" is missing.')})}}(0,window.themeblvd),function(t,e,o){e.modal={},e.modal.defaults={title:"Setup",button:"Apply",buttonDelete:"",buttonSecondary:"",size:"large",height:"large",build:!0,form:!1,codeEditor:!1,codeLang:"html",vimeo:"",padding:!1,sendBack:{},cssClass:"",onLoad:function(t){},onDisplay:function(t){},onCancel:function(t){},onSave:function(t){},onDelete:function(t){},onSecondary:function(t){}},e.modal.init=function(n,d){var i=e.modal;i.element=n,i.$element=t(n),i.secondary=!1,i.settings=t.extend({},i.defaults,d);for(var a in i.settings)i.$element.data(a)&&(i.settings[a]=i.$element.data(a));i.target=i.$element.data("target"),i.$target=t("#"+i.target),i.$element.off("click.themeblvd-modal"),i.$element.on("click.themeblvd-modal",function(n){if(n.preventDefault(),i.popup="",t("body").hasClass("themeblvd-modal-on")&&(i.secondary=!0),i.id=i.settings.vimeo?"video-"+i.settings.vimeo:i.target,i.settings.build&&(i.id+="_build",i.build()),i.$modalWindow=t("#"+i.id),i.$modalWindow.data("target",i.target),i.settings.padding&&i.$modalWindow.find(".media-frame-content-inner").css("padding","20px"),i.settings.onLoad(i),i.$modalWindow.find(".media-modal-close").off("click.themeblvd-modal-close"),i.$modalWindow.find(".media-modal-close").on("click.themeblvd-modal-close",function(e){e.preventDefault(),t(this).trigger("themeblvd-modal-close"),i.settings.onCancel(i),i.close()}),i.$modalWindow.find(".media-button-insert").off("click.themeblvd-modal-insert"),i.$modalWindow.find(".media-button-insert").on("click.themeblvd-modal-insert",function(e){e.preventDefault(),t(this).trigger("themeblvd-modal-insert"),i.settings.onSave(i),i.save(),i.close()}),i.settings.buttonSecondary&&(i.$modalWindow.find(".media-button-secondary").off("click.themeblvd-modal-secondary"),i.$modalWindow.find(".media-button-secondary").on("click.themeblvd-modal-secondary",function(e){e.preventDefault(),t(this).trigger("themeblvd-modal-secondary"),i.settings.onSecondary(i),i.close()})),i.settings.buttonDelete){var d=i.$element.parent().is(".block-nav")?o.delete_block:o.delete_item;i.$modalWindow.find(".media-button-delete").off("click.themeblvd-modal-delete"),i.$modalWindow.find(".media-button-delete").on("click.themeblvd-modal-delete",function(o){o.preventDefault(),e.comfirm(d,{confirm:!0},function(e){e&&(t(this).trigger("themeblvd-modal-delete"),i.settings.onDelete(i),i.close())})})}i.display(),i.settings.onDisplay(i)})},e.modal.build=function(){var o=e.modal;o.popup='<div id="%id%" class="themeblvd-modal-wrap build" style="display:none;"> \t\t\t\t\t\t\t<div class="themeblvd-modal %size%-modal %height%-height-modal media-modal wp-core-ui hide"> \t\t\t\t\t\t\t\t<button type="button" class="media-modal-close"> \t\t\t\t\t\t\t\t\t<span class="media-modal-icon"> \t\t\t\t\t\t\t\t\t\t<span class="screen-reader-text">x</span> \t\t\t\t\t\t\t\t\t</span> \t\t\t\t\t\t\t\t</button> \t\t\t\t\t\t\t\t<div class="media-modal-content"> \t\t\t\t\t\t\t\t\t<div class="media-frame wp-core-ui hide-menu hide-router"> \t\t\t\t\t\t\t\t\t\t<div class="media-frame-title"> \t\t\t\t\t\t\t\t\t\t\t<h1>%title%</h1> \t\t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-frame-title (end) --\x3e \t\t\t\t\t\t\t\t\t\t<div class="media-frame-content"> \t\t\t\t\t\t\t\t\t\t\t<div class="media-frame-content-inner"> \t\t\t\t\t\t\t\t\t\t\t\t<div class="content-mitt"> \t\t\t\t\t\t\t\t\t\t\t\t\t%content% \t\t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-frame-content-inner (end) --\x3e \t\t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-frame-content (end) --\x3e \t\t\t\t\t\t\t\t\t\t<div class="media-frame-toolbar"> \t\t\t\t\t\t\t\t\t\t\t<div class="media-toolbar"> \t\t\t\t\t\t\t\t\t\t\t\t<div class="media-toolbar-primary"> \t\t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="button media-button button-primary button-large media-button-insert">%button_text%</a> \t\t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-toolbar (end) --\x3e \t\t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-frame-toolbar (end) --\x3e \t\t\t\t\t\t\t\t\t</div>\x3c!-- .media-frame (end) --\x3e \t\t\t\t\t\t\t\t</div>\x3c!-- .media-modal-content (end) --\x3e \t\t\t\t\t\t\t </div>\x3c!-- .themeblvd-modal (end) --\x3e \t\t\t\t\t\t </div>',o.popup=o.popup.replace("%id%",o.id),o.popup=o.popup.replace("%size%",o.settings.size),o.popup=o.popup.replace("%height%",o.settings.height),o.popup=o.popup.replace("%title%",o.settings.title),o.popup=o.popup.replace("%button_text%",o.settings.button),o.settings.codeEditor&&(o.popup=o.popup.replace("%content%",'<form><textarea id="'+o.id+'_editor" name="code"></textarea></form>')),o.settings.form&&(o.popup=o.popup.replace("%content%",'<div id="optionsframework"></div>')),o.settings.vimeo&&(o.popup=o.popup.replace(o.settings.height+"-height-modal","modal-video"),o.popup=o.popup.replace("%content%",'<iframe src="https://player.vimeo.com/video/'+o.settings.vimeo+'?autoplay=1" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')),o.settings.custom&&(o.popup=o.popup.replace("%content%","")),t("body").append(o.popup);var n=t("#"+o.id);if(o.settings.button||o.settings.buttonSecondary||o.settings.buttonDelete||(n.find(".media-frame-toolbar").remove(),n.find(".themeblvd-modal").addClass("hide-toolbar")),o.settings.buttonSecondary&&n.find(".media-toolbar").prepend('<div class="media-toolbar-secondary"><a href="#" class="button media-button button-secondary button-large media-button-secondary">'+o.settings.buttonSecondary+"</a></div>"),o.settings.buttonDelete&&n.find(".media-toolbar").prepend('<div class="media-toolbar-secondary"><a href="#" class="button media-button button-secondary button-large media-button-delete">'+o.settings.buttonDelete+"</a></div>"),o.settings.codeEditor){i="";if(o.$element.is(".tb-block-code-link"))var d=o.$element.closest(".block").data("field-name"),i=o.$element.closest(".block").find('textarea[name="'+d+'[html]"]').val();else i=o.$element.closest(".textarea-wrap").find("textarea").val();t("#"+o.id+"_editor").val(i)}else o.$target.after('<div id="'+o.id+'_marker"></div>'),o.settings.form?n.find("#optionsframework").append(o.$target):n.find(".content-mitt").append(o.$target)},e.modal.display=function(){var o,n=e.modal,d=t("body");if(n.secondary?(d.addClass("themeblvd-secondary-modal-on"),n.$modalWindow.find(".themeblvd-modal").removeClass("themeblvd-first-modal").addClass("themeblvd-second-modal"),d.find(".themeblvd-first-modal").prepend('<div class="inline-media-modal-backdrop"></div>')):(d.addClass("themeblvd-modal-on"),d.addClass("themeblvd-stop-scroll"),d.append('<div id="themeblvd-modal-backdrop" class="media-modal-backdrop"></div>'),n.$modalWindow.find(".themeblvd-modal").addClass("themeblvd-first-modal"),t("#themeblvd-modal-backdrop").off("click.themeblvd-modal-backdrop"),t("#themeblvd-modal-backdrop").on("click.themeblvd-modal-backdrop",function(t){t.preventDefault(),n.settings.onCancel(n),n.closeAll()})),n.settings.cssClass&&n.$modalWindow.find(".themeblvd-modal").addClass(n.settings.cssClass),n.$modalWindow.show(),n.settings.codeEditor&&"undefined"!=typeof CodeMirror){var i,a;(i=t("#"+n.id+"_editor").data("CodeMirrorInstance"))||(a="css"==n.settings.codeLang||"javascript"==n.settings.codeLang?n.settings.codeLang:{name:"htmlmixed",scriptTypes:[{matches:/\/x-handlebars-template|\/x-mustache/i,mode:null},{matches:/(text|application)\/(x-)?vb(a|script)/i,mode:"vbscript"}]},(i=CodeMirror.fromTextArea(document.getElementById(n.id+"_editor"),{mode:a,lineNumbers:!0,theme:"themeblvd",indentUnit:4,tabSize:4,indentWithTabs:!0,autofocus:!0}))&&t("#"+n.id+"_editor").data("CodeMirrorInstance",i))}if("auto"==n.settings.height){var l=t(window).height();o=n.$modalWindow.find(".media-frame-content-inner").outerHeight(),o=57+o+60,n.settings.codeEditor?o+=2:o+=10,n.$modalWindow.find(".themeblvd-modal").css({"max-height":o+"px",top:(l-o)/2+"px"}),t(window).resize(function(){n.$modalWindow.find(".themeblvd-modal").css("top",(t(window).height()-o)/2+"px")})}n.settings.form&&(n.$modalWindow.themeblvd("options","setup"),n.$modalWindow.themeblvd("options","bind"),n.$modalWindow.themeblvd("options","media-uploader"),n.$modalWindow.themeblvd("options","sortable"))},e.modal.close=function(){var o=e.modal,n=t("body");o.settings.build&&t("#"+o.id+"_marker").after(o.$target).remove(),o.$modalWindow.find(".media-button-secondary").off("click.themeblvd-modal-secondary"),o.$modalWindow.find(".media-modal-close").off("click.themeblvd-modal-close"),o.$modalWindow.find(".media-button-insert").off("click.themeblvd-modal-insert"),o.$modalWindow.find(".media-button-delete").off("click.themeblvd-modal-delete"),o.settings.build?o.$modalWindow.remove():o.$modalWindow.hide(),o.secondary?(n.removeClass("themeblvd-secondary-modal-on"),n.find(".themeblvd-modal-wrap .inline-media-modal-backdrop").remove()):(n.removeClass("themeblvd-modal-on"),n.removeClass("themeblvd-stop-scroll"),t("#themeblvd-modal-backdrop").remove())},e.modal.closeAll=function(){t(".themeblvd-modal-wrap").each(function(){var e,o,n=t(this);n.hasClass("build")?(e=n.attr("id"),o=n.data("target"),t("#"+e+"_marker").after(t("#"+o)).remove(),n.remove()):n.hide(),t("#themeblvd-modal-backdrop").remove(),t("body").removeClass("themeblvd-modal-on themeblvd-secondary-modal-on themeblvd-stop-scroll")})},e.modal.save=function(){var o=e.modal;if(o.settings.codeEditor){var n,d=t("#"+o.id+"_editor").data("CodeMirrorInstance").getValue();if(o.$element.is(".tb-block-code-link")){var i=o.$element.closest(".block").data("field-name");n=o.$element.closest(".block").find('textarea[name="'+i+'[html]"]')}else n=o.$element.closest(".textarea-wrap").find("textarea");n.val(d)}},t.fn.ThemeBlvdModal=function(t){return this.each(function(){e.modal.init(this,t)})}}(jQuery,window.themeblvd,themeblvdL10n),function(t,e){e.setup=function(o){var n=t(o);n.off("click.tb-widget"),n.on("click.tb-widget",".widget-name-arrow, .block-widget-name-arrow",function(e){e.preventDefault();var o=t(this),n="widget",d=!1;o.hasClass("block-widget-name-arrow")&&(n="block-widget"),o.closest("."+n+"-name").hasClass(n+"-name-closed")&&(d=!0),d?(o.closest("."+n).find("."+n+"-content").show(),o.closest("."+n).find("."+n+"-name").removeClass(n+"-name-closed"),o.closest("."+n).find(".section-code").each(function(){var e=t(this).find("textarea").data("CodeMirrorInstance");e&&e.refresh()})):(o.closest("."+n).find("."+n+"-content").hide(),o.closest("."+n).find("."+n+"-name").addClass(n+"-name-closed"))}),n.on("click",".tooltip-link",function(o){o.preventDefault(),e.confirm(t(this).attr("title"),{textOk:"Ok"})}),n.on("click",".delete-me",function(o){var n=t(this),d=n.attr("href");e.confirm(n.attr("title"),{confirm:!0},function(e){e&&t(d).remove()})}),n.find(".tb-fancy-select").each(function(){var e=t(this),o=e.find("select").val(),n=e.find('option[value="'+o+'"]').text();e.find(".textbox").text(n)})}}(jQuery,window.themeblvd),function(t,e){window.themeblvd.accordion=function(e){var o=t(e);o.find(".element-content").hide(),o.find(".element-content:first").show(),o.find(".element-trigger:first").addClass("active"),o.find(".element-trigger").on("click",function(e){e.preventDefault();var n=t(this);n.hasClass("active")||(o.find(".element-content").hide(),o.find(".element-trigger").removeClass("active"),n.addClass("active"),n.next(".element-content").show())})}}(jQuery),function(t,e){window.themeblvd.widgets=function(e){var o=t(e);o.find(".widget-content").hide(),o.find(".widget-name").addClass("widget-name-closed"),o.find(".block-content").hide(),o.find(".block-handle").addClass("block-handle-closed")}}(jQuery);