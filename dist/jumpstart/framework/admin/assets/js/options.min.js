/**
 * Options System
 *
 * @package Jump_Start
 * @subpackage Theme_Blvd
 * @license GPL-2.0+
 */
window.themeblvd.options={},function(e,t,i){e("body");t.options.setup=function(t){var o=e(t);o.find(".show-hide").each(function(){var t=e(this);t.children(".trigger").find("input").is(":checked")?t.children(".receiver").show():(t.find(".receiver").each(function(){e(this).find("input, textarea, select").prop("disabled",!0)}),t.children(".receiver").hide())}),o.find(".show-hide-toggle").each(function(){var t=e(this),i=t.children(".trigger"),o="";o=i.hasClass("section-radio")?i.find(".of-radio:checked").val():i.find(".of-input").val(),t.children(".receiver").each(function(){e(this).hide().find("input, textarea, select").prop("disabled",!0)}),t.children(".receiver-"+o).each(function(){e(this).show().find("input, textarea, select").prop("disabled",!1)})}),o.find(".desc-toggle").each(function(){var t=e(this),i=t.children(".trigger").find(".of-input").val();t.find(".desc-receiver .explain").hide(),t.find(".desc-receiver .explain."+i).show()}),o.find(".section-content").each(function(){var t=e(this),i=t.find(".column-content-types select.select-type").val();t.find(".column-content-type").hide(),t.find(".column-content-type-"+i).show()}),o.find(".columns").each(function(){var t=e(this),i=t.find(".select-col-num").val();i>1?(t.find(".select-wrap-grid").show(),t.find(".section-column_widths").show(),t.closest(".widget-content").find(".column-height").show()):(t.find(".select-wrap-grid").hide(),t.find(".section-column_widths").hide(),t.closest(".widget-content").find(".column-height").hide()),t.find(".section-content").hide();for(var o=1;o<=i;o++)t.find(".col_"+o).show()}),o.find(".section-logo").each(function(){var t=e(this),i=t.find(".select-type select").val();t.find(".logo-item").hide(),t.find("."+i).show()}),o.find(".section-typography .of-typography-face").each(function(){var t=e(this);t.closest(".section-typography").find(".google-font").hide(),t.closest(".section-typography").find(".typekit-font").hide(),t.closest(".section-typography").find("."+t.val()+"-font").fadeIn("fast")}),o.find(".of-radio-img-label").hide(),o.find(".of-radio-img-img").show(),o.find(".of-radio-img-radio").hide(),o.find(".select-parallax").each(function(){var t=e(this);"parallax"===t.find(".of-background-attachment").val()?(t.find(".tb-background-repeat").hide(),t.find(".tb-background-position").hide(),t.find(".tb-background-size").hide(),t.find(".parallax").show()):(t.find(".tb-background-repeat").show(),t.find(".tb-background-position").show(),t.find(".tb-background-size").show(),t.find(".parallax").hide())}),o.find(".of-background-properties").each(function(){var t=e(this),i=t.find(".of-background-repeat").val(),o=t.find(".of-background-attachment").val();"no-repeat"===i&&"parallax"!==o?t.find(".of-background-size").show():t.find(".of-background-size").hide()}),e.isFunction(e.fn.slider)&&o.find(".jquery-ui-slider").each(function(){var t=e(this),i=t.closest(".jquery-ui-slider-wrap").find(".slider-input"),o=t.data("units");t.slider({min:t.data("min"),max:t.data("max"),step:t.data("step"),value:parseInt(i.val()),create:function(e,o){t.find(".ui-slider-handle").append('<span class="display-value"><span class="display-value-text"></span><span class="display-value-arrow"></span></span>');var n=t.find(".display-value");n.css("margin-left","-"+n.outerWidth()/2+"px"),n.find(".display-value-text").text(i.val())},slide:function(e,n){i.val(n.value+o),t.find(".display-value-text").text(n.value+o)}})}),e.isFunction(e.fn.wpColorPicker)&&o.find(".tb-color-picker").wpColorPicker({change:function(t,i){e(t.target).trigger("themeblvd-color-change")}}),e.isFunction(e.fn.wpColorPicker)&&o.find(".section-button").each(function(){var t=e(this);t.find(".color-picker").wpColorPicker(),t.find(".color.bg .wp-color-result").attr("title",i.bg_color),t.find(".color.bg_hover .wp-color-result").attr("title",i.bg_color_hover),t.find(".color.border .wp-color-result").attr("title",i.border_color),t.find(".color.text .wp-color-result").attr("title",i.text_color),t.find(".color.text_hover .wp-color-result").attr("title",i.text_color_hover),t.find(".include.bg input").is(":checked")&&t.find(".color.bg").show(),t.find(".include.border input").is(":checked")&&t.find(".color.border").show()}),o.find(".tb-input-icon-link").themeblvd("modal",null,{build:!1,padding:!0,size:"custom",onDisplay:function(e){var t=e.$element,i=e.$modalWindow,o=t.closest(".input-wrap").find("input").val();i.find(".media-frame-content").scrollTop(0),i.find(".icon-search-input").val(""),i.find(".select-icon").removeClass("selected").show(),i.find(".media-toolbar-secondary").find("i, span, .svg-inline--fa").remove(),i.find('[data-icon="'+o+'"]').length>0&&(i.find('[data-icon="'+o+'"]').addClass("selected"),i.find(".icon-selection").val(o),i.find(".media-toolbar-secondary").append('<i class="'+o+' fa-2x fa-fw"></i><span>'+o+"</span>"))},onSave:function(e){var t=e.$modalWindow.find(".icon-selection").val();e.$element.closest(".input-wrap").find("input").val(t)}}),o.find(".tb-input-post-id-link").themeblvd("modal",null,{build:!1,padding:!0,button:"",size:"custom",onDisplay:function(t){var i=t.$element,o=t.$modalWindow;o.find("#search-submit").off("click.tb-search-posts"),o.find("#search-submit").on("click.tb-search-posts",function(t){t.preventDefault();var i=e(this).closest(".post-browser-head"),n={action:"themeblvd_post_browser",data:i.find("#post-search-input").val()};i.find(".tb-loader").fadeIn(200),e.post(ajaxurl,n,function(e){o.find(".ajax-mitt").html("").append(e),i.find(".tb-loader").fadeOut(200)})}),o.off("click.tb-select-post",".select-post"),o.on("click.tb-select-post",".select-post",function(n){n.preventDefault(),o.find("#post-search-input").val(""),o.find(".ajax-mitt").html(""),i.closest(".input-wrap").find(".of-input").val(e(this).data("post-id")),t.close(t)})},onCancel:function(e){$browser=e.$modalWindow,$browser.find("#post-search-input").val(""),$browser.find(".ajax-mitt").html("")}}),o.find(".tb-texture-browser-link").themeblvd("modal",null,{build:!1,padding:!0,size:"custom",onDisplay:function(t){var i=t.$element,o=t.$modalWindow,n=i.closest(".controls").find(".of-input").val();o.find(".media-frame-content").scrollTop(0),o.find(".select-texture").each(function(){$link=e(this),$link.removeClass("selected"),n===$link.data("texture")&&($link.addClass("selected"),o.find(".texture-selection").val($link.data("texture")),o.find(".current-texture").text($link.data("texture-name")))})},onSave:function(e){var t=e.$element.closest(".controls").find(".of-input"),i=e.$modalWindow.find(".texture-selection").val();t.val(i)}}),o.find("#tb-footer-sync").is(":checked")?(o.find(".standard-footer-setup").hide(),o.find(".footer-template-setup").show()):(o.find(".standard-footer-setup").show(),o.find(".footer-template-setup").hide())}}(jQuery,window.themeblvd,themeblvdL10n),function(e,t){t.options.bind=function(i){var o=e(i),n=e("body");o.find(".tb-modal-link").themeblvd("modal"),t.isMobile(n)||(o.on("mouseenter",".tb-tooltip-link",function(){var t=e(this),i=t.data("tooltip-position"),o=t.offset().left,d=t.offset().top,a=t.data("tooltip-text"),s='<div class="themeblvd-tooltip %position%"> \t\t\t\t\t\t\t\t   <div class="tooltip-inner"> \t\t\t\t\t\t\t\t\t %text% \t\t\t\t\t\t\t\t   </div> \t\t\t\t\t\t\t\t   <div class="tooltip-arrow"></div> \t\t\t\t\t\t\t\t</div>';!a&&t.data("tooltip-toggle")&&(a=t.data("tooltip-text-"+t.data("tooltip-toggle"))),a||(a=t.attr("title")),i||(i="top"),s=(s=s.replace("%position%",i)).replace("%text%",a),n.append(s);var l=e(".themeblvd-tooltip"),c=l.outerHeight(),r=l.outerWidth();switch(i){case"left":o=o-r-5,d+=.5*t.outerHeight(),d-=c/2;break;case"right":o=o+t.outerWidth()+5,d+=.5*t.outerHeight(),d-=c/2;break;case"bottom":o+=.5*t.outerWidth(),o-=r/2,d=d+t.outerHeight()+2;break;case"top":default:o+=.5*t.outerWidth(),o-=r/2,d=d-c-2}l.css({top:d+"px",left:o+"px"}).addClass("fade in")}),o.on("mouseleave",".tb-tooltip-link",function(){e(".themeblvd-tooltip").remove()}),o.find(".tb-tooltip-link").on("click",function(){var t=e(this),i=t.data("tooltip-toggle");e(".themeblvd-tooltip").remove(),2==i?t.data("tooltip-toggle",1):t.data("tooltip-toggle",2)})),o.on("click",".show-hide > .trigger input",function(){var t=e(this);t.is(":checked")?(t.closest(".show-hide").find(".receiver").each(function(){e(this).find("input, textarea, select").prop("disabled",!1)}),t.closest(".show-hide").children(".receiver").fadeIn("fast")):(t.closest(".show-hide").find(".receiver").each(function(){e(this).find("input, textarea, select").prop("disabled",!0)}),t.closest(".show-hide").children(".receiver").hide())}),o.on("change",".show-hide-toggle > .trigger select.of-input",function(){var t=e(this),i=t.val(),o=t.closest(".show-hide-toggle");o.children(".receiver").each(function(){e(this).hide().find("input, textarea, select").prop("disabled",!0)}),o.children(".receiver-"+i).each(function(){e(this).show().find("input, textarea, select").prop("disabled",!1)})}),o.on("click",".show-hide-toggle > .trigger .of-radio",function(){var t=e(this),i=t.val(),o=t.closest(".show-hide-toggle");o.children(".receiver").each(function(){e(this).hide().find("input, textarea, select").prop("disabled",!0)}),o.children(".receiver-"+i).each(function(){e(this).show().find("input, textarea, select").prop("disabled",!1)})}),o.on("change",".desc-toggle > .trigger .of-input",function(){var t=e(this),i=t.val(),o=t.closest(".desc-toggle");o.find(".desc-receiver .explain").hide(),o.find(".desc-receiver .explain."+i).show()}),o.on("change",".column-content-types select.select-type",function(){var t=e(this),i=t.closest(".section-content"),o=t.val();i.find(".column-content-type").hide(),i.find(".column-content-type-"+o).show()}),o.on("change",".select-col-num",function(){var t=e(this),i=t.val(),o=t.closest(".columns");i>1?(o.find(".select-wrap-grid").show(),o.find(".section-column_widths").show(),o.closest(".widget-content").find(".column-height").show()):(o.find(".select-wrap-grid").hide(),o.find(".section-column_widths").hide(),o.closest(".widget-content").find(".column-height").hide()),o.find(".section-content").hide();for(var n=1;n<=i;n++)o.find(".col_"+n).show()}),o.on("change",".section-logo .select-type select",function(){var t=e(this),i=t.closest(".section-logo"),o=t.val();i.find(".logo-item").hide(),i.find("."+o).show()}),o.on("change",".section-typography .of-typography-face",function(){var t=e(this);t.closest(".section-typography").find(".google-font").hide(),t.closest(".section-typography").find(".typekit-font").hide(),t.closest(".section-typography").find("."+t.val()+"-font").fadeIn("fast")}),o.find(".tb-radio-img-img, .of-radio-img-img").on("click",function(t){t.preventDefault();var i=e(this);i.parent().parent().find(".of-radio-img-img").removeClass("tb-radio-img-selected of-radio-img-selected"),i.addClass("tb-radio-img-selected of-radio-img-selected")}),o.on("click",".select-categories input",function(){var t=e(this),i=t.closest(".controls");t.prop("checked")&&(t.hasClass("all")?i.find("input").each(function(){var t=e(this);t.hasClass("all")||t.prop("checked",!1)}):i.find("input.all").prop("checked",!1))}),o.on("change",".select-parallax .of-background-attachment",function(){var t=e(this),i=t.closest(".select-parallax");"parallax"==t.val()?(i.find(".tb-background-repeat").hide(),i.find(".tb-background-position").hide(),i.find(".tb-background-size").hide(),i.find(".parallax").show()):(i.find(".tb-background-repeat").show(),i.find(".tb-background-position").show(),i.find(".tb-background-size").show(),i.find(".parallax").hide())}),o.on("change",".of-background-properties .of-background-repeat",function(){var t=e(this),i=t.closest(".of-background-properties"),o=t.val(),n=i.find(".of-background-attachment").val();"no-repeat"===o&&"parallax"!==n?i.find(".tb-background-size").show():i.find(".tb-background-size").hide()}),o.on("click",".section-button .include input",function(){var t=e(this),i="bg";t.closest(".include").hasClass("border")&&(i="border"),t.is(":checked")?t.closest(".section-button").find(".color."+i).show():t.closest(".section-button").find(".color."+i).hide()}),o.find("#tb-footer-sync").on("click",function(){e(this).is(":checked")?($this.find(".standard-footer-setup").hide(),$this.find(".footer-template-setup").show()):($this.find(".standard-footer-setup").show(),$this.find(".footer-template-setup").hide())}),"object"==typeof google&&"object"==typeof google.maps&&o.on("click",".section-geo .geo-insert-lat-long",function(i){i.preventDefault();var o=e(this),n=o.closest(".geo-generate").find(".overlay"),d=new google.maps.Geocoder,a=o.prev(".address").val(),s="0",l="0";n.fadeIn(100),d.geocode({address:a},function(e,i){i==google.maps.GeocoderStatus.OK&&(s=e[0].geometry.location.lat(),l=e[0].geometry.location.lng()),setTimeout(function(){o.closest(".controls").find(".geo-lat .geo-input").val(s),o.closest(".controls").find(".geo-long .geo-input").val(l),i!=google.maps.GeocoderStatus.OK?t.confirm(o.data("oops"),{textOk:"Ok"}):o.prev(".address").val(""),n.fadeOut(100)},1500)})})}}(jQuery,window.themeblvd),function(e,t,i){"undefined"!=typeof wp&&void 0!==wp.media&&(t.options.mediaUploader={},t.options.mediaUploader.frames={},t.options.mediaUploader.init=function(i){var o=e(i),n=t.options.mediaUploader;o.find(".upload-button").off("click"),o.find(".remove-image, .remove-file").off("click"),o.find(".add-images").off("click"),o.find(".upload-button").on("click",function(t){t.preventDefault(),n.addFile(e(this).closest(".section-upload, .section-media"))}),o.find(".remove-image, .remove-file").on("click",function(t){t.preventDefault(),n.removeFile(e(this).closest(".section-upload, .section-media"))}),o.find(".add-images").on("click",function(t){t.preventDefault();var i=e(this);n.addImages(i,i.closest(".section-sortable"))})},t.options.mediaUploader.addFile=function(i){var o=t.options.mediaUploader,n=i.find("input.upload").attr("id");if(o.frames[n])o.frames[n].open();else{var d=null,a=i.find(".trigger"),s=a.data("type"),l=a.data("title"),c=a.data("select"),r=a.data("class"),f=a.data("send-back"),u=a.data("link"),p="image",h=!1,m="library";"video"===s&&(p="video"),"media"===s&&(p="",h=!0),"advanced"===s&&(m="themeblvd_advanced"),d=o.frames[n]=wp.media.frames.file_frame=wp.media({frame:"select",state:m,className:"media-frame "+r,title:l,library:{type:p},button:{text:c},multiple:h}),"advanced"===s&&d.states.add([new wp.media.controller.Library({id:"themeblvd_advanced",title:l,priority:20,toolbar:"select",filterable:"uploaded",library:wp.media.query(d.options.library),multiple:!1,editable:!0,displayUserSettings:!1,displaySettings:!0,allowLocalEdits:!0})]),d.on("select",function(){var t,n,a,l,c=d.state().get("selection").first(),r=i.find(".trigger").data("remove");"advanced"===s?(t=d.$el.find('.attachment-display-settings select[name="size"]').val(),n=c.attributes.sizes[t].url):n=c.attributes.url,"id"===f?i.find(".image-url").val(c.attributes.id):i.find(".image-url").val(n),"image"===c.attributes.type&&i.find(".screenshot").empty().hide().append('<img src="'+n+'"><a class="remove-image"></a>').slideDown("fast"),"logo"===s&&(i.find(".image-width").val(c.attributes.width),i.find(".image-height").val(c.attributes.height)),"video"===s&&i.find(".video-url").val(c.attributes.url),"slider"===s&&(i.find(".image-id").val(c.attributes.id),i.find(".image-title").val(c.attributes.title),(l=i.find(".image-title").val())&&i.closest(".widget").find(".slide-summary").text(l).fadeIn(200)),"video"!==s&&"media"!==s&&(i.find(".upload-button").unbind().addClass("remove-file").removeClass("upload-button").val(r),i.find(".of-background-properties").slideDown(),i.find(".remove-image, .remove-file").on("click",function(t){t.preventDefault(),o.removeFile(e(this).closest(".section-upload"))})),"advanced"!==s&&"background"!==s||(i.find(".image-id").val(c.attributes.id),i.find(".image-title").val(c.attributes.title),i.find(".image-alt").val(c.attributes.alt),i.find(".image-caption").val(c.attributes.caption),t&&i.find(".image-crop").val(t),u&&"none"!==d.$el.find(".attachment-display-settings .link-to").val()&&(a=d.$el.find(".attachment-display-settings .link-to-custom").val(),i.closest(".advanced-image-upload").find(".receive-link-url input").val(a)))}),d.open(),"advanced"===s&&(d.$el.addClass("hide-menu"),d.$el.find(".attachment-display-settings label:first-of-type").remove(),u||d.$el.find(".attachment-display-settings div.setting").remove())}},t.options.mediaUploader.removeFile=function(i){var o=t.options.mediaUploader,n=i.find(".trigger").data("upload");"slider"===i.find(".trigger").data("type")&&i.closest(".widget").find(".slide-summary").removeClass("image video").hide().text(""),i.find(".remove-image").hide(),i.find(".upload").val(""),i.find(".of-background-properties").hide(),i.find(".screenshot").slideUp(),i.find(".remove-file").addClass("upload-button").removeClass("remove-file").val(n),i.find(".upload-button").on("click",function(t){t.preventDefault(),o.addFile(e(this).closest(".section-upload"))})},t.options.mediaUploader.addImages=function(i,o){var n=t.options.mediaUploader,d=i.attr("id");if(n.frames[d])n.frames[d].open();else{var a=n.frames[d]=wp.media.frames.file_frame=wp.media({frame:"select",className:"media-frame tb-modal-hide-settings",title:i.data("title"),library:{type:"image"},button:{text:i.data("button")},multiple:"add"});a.on("select update insert",function(i){var n,d,s=a.state(),l=0,c=[],r=o.find(".tb-sortable-option");(void 0!==i?i:s.get("selection")).map(function(e){n=e.toJSON(),c[l]={id:n.id,title:n.title},n.sizes.tb_thumb?c[l].preview=n.sizes.tb_thumb.url:c[l].preview=n.sizes.full.url,l++}),d={action:"themeblvd-add-"+r.data("type")+"-item",security:r.data("security"),data:{option_name:r.data("name"),option_id:r.data("id"),items:c}},e.post(ajaxurl,d,function(i){o.find(".item-container").append(i);var n=o.find(".item-container .item").slice(-c.length);n.addClass("add"),window.setTimeout(function(){n.removeClass("add")},500),o.find(".delete-sortable-items").fadeIn(200),n.find(".delete-sortable-item").on("click",function(i){i.preventDefault();var o=e(this),n=o.closest(".section-sortable"),d=o.closest(".item");t.confirm(o.attr("title"),{confirm:!0},function(e){e&&(d.addClass("delete"),window.setTimeout(function(){d.remove(),n.find(".item-container .item").length||n.find(".delete-sortable-items").fadeOut(200)},500))})}),n.find(".toggle").on("click",function(t){t.preventDefault();var i=e(this);i.closest(".item-handle").hasClass("closed")?(i.closest(".item-handle").removeClass("closed"),i.closest(".item").find(".item-content").show()):(i.closest(".item-handle").addClass("closed"),i.closest(".item").find(".item-content").hide())}),n.find(".item-handle h3").each(function(){var t=e(this),i=t.closest(".item").find(".handle-trigger");i.is("select")?t.closest(".item").find(".item-handle h3").text(i.find('option[value="'+i.val()+'"]').text()):t.closest(".item").find(".item-handle h3").text(i.val())}),n.find(".handle-trigger").on("change",function(){var t=e(this);t.is("select")?t.closest(".item").find(".item-handle h3").text(t.find('option[value="'+t.val()+'"]').text()):t.closest(".item").find(".item-handle h3").text(t.val())}),n.themeblvd("options","setup")})}),a.open()}})}(jQuery,window.themeblvd,themeblvdL10n),function(e,t,i,o){wp=t.wp||{},i.options.editor=function(i){void 0!==wp.editor&&e(i).find(".tb-editor-input").each(function(){var i=e(this),o=i.attr("id"),n=i.data("style"),d=250,a="formatselect bold italic bullist numlist blockquote alignleft aligncenter alignright link";void 0!==t.tinymce?(tinymce.get(o)&&wp.editor.remove(o),"mini"==n&&(d=200,a="formatselect bold italic bullist link"),wp.editor.initialize(o,{tinymce:{wpautop:!0,theme:"modern",height:d,plugins:"charmap colorpicker compat3x directionality fullscreen hr image lists media paste tabfocus textcolor wordpress wpautoresize wpdialogs wpeditimage wpemoji wpgallery wplink wptextpattern wpview",toolbar1:a},quicktags:!0,mediaButtons:!0})):wp.editor.initialize(o,{tinymce:!1,quicktags:!0,mediaButtons:!0})})}}(jQuery,window,window.themeblvd,themeblvdL10n),function(e,t,i,o){wp=t.wp||{},i.options.codeEditorLangs={},i.options.codeEditors={},i.options.addCodeEditorLang=function(e,t){i.options.codeEditorLangs[e]=t},i.options.addCodeEditor=function(e,t){void 0!==wp.codeEditor&&(i.options.codeEditors[e]=wp.codeEditor.initialize(e,t))},i.options.codeEditor=function(o){void 0!==wp.codeEditor&&e(o).find(".section-code").each(function(){var o=t.themeblvd.options.codeEditors,n=t.themeblvd.options.codeEditorLangs,d=e(this).find("textarea"),a=d.attr("id"),s=d.data("code-lang");void 0===o[a]?void 0!==n[s]&&i.options.addCodeEditor(a,n[s]):o[a].codemirror.refresh()})}}(jQuery,window,window.themeblvd,themeblvdL10n),function(e,t,i){t.options.columnWidths={},t.options.columnWidths.init=function(i){$element=e(i),$element.find(".section-column_widths").each(function(){t.options.columnWidths.build(e(this).closest(".subgroup.columns"))})},t.options.columnWidths.build=function(i){var o=i.find(".slider").attr("id"),n=12,d=3,a=0,s="",l=i.find(".column-width-input").val(),c=[],r={};if(r={10:{2:{values:[0,5,10],display:["1/2","1/2"]},3:{values:[0,3,7,10],display:["3/10","2/5","3/10"]},4:{values:[0,2,5,8,10],display:["1/5","3/10","3/10","1/5"]},5:{values:[0,2,4,6,8,10],display:["1/5","1/5","1/5","1/5","1/5"]},6:{values:[0,1,3,5,7,9,10],display:["1/10","1/5","1/5","1/5","1/5","1/10"]}},12:{2:{values:[0,6,12],display:["1/2","1/2"]},3:{values:[0,4,8,12],display:["1/3","1/3","1/3"]},4:{values:[0,3,6,9,12],display:["1/4","1/4","1/4","1/4"]},5:{values:[0,2,4,8,10,12],display:["1/6","1/6","1/3","1/6","1/6"]},6:{values:[0,2,4,6,8,10,12],display:["1/6","1/6","1/6","1/6","1/6","1/6"]}}},n=i.find(".select-grid-system").val(),d=i.find(".select-col-num").val(),i.find(".select-col-num").off("change.ui-slider"),i.find(".select-col-num").on("change.ui-slider",t.options.columnWidths.change),i.find(".select-grid-system").off("change.ui-slider"),i.find(".select-grid-system").on("change.ui-slider",t.options.columnWidths.change),0!=d){if(1==d)return i.find(".slider").append('<div class="column-preview col-1" style="width:100%"><span class="text">100%</span></div>'),void i.find(".column-width-input").val("1/1").trigger("themeblvd-update-columns");if(l){l=l.split("-"),d=l.length;for(var f=0;f<=d;f++)0===f?c[f]=0:f==d?c[f]=n:(s=l[f-1].split("/"),a+=n*s[0]/s[1],c[f]=a)}else c=r[n][d].values,l=r[n][d].display,i.find(".column-width-input").val(l.join("-")).trigger("themeblvd-update-columns");e("#"+o).slider({range:"max",min:0,max:n,step:1,values:c,create:function(e,t){var o=0,a=0,s=0,r="";for(o=1;o<=d;o++)i.find(".slider").append('<div class="column-preview col-'+o+'"><span class="text">'+l[o-1]+"</span></div>"),s=(c[o]-c[o-1])/n*100,i.find(".col-"+o).css("width",s+"%"),o>1&&i.find(".col-"+o).css("left",a+"%"),a+=s;for(a=0,r='<div class="grid-display grid-'+n+'">',o=1;o<=n;o++)r+='<div class="grid-column grid-col-'+o+'"></div>';for(r+="</div>",i.find(".slider").append(r),o=1;o<=n;o++)a+=1/n*100,i.find(".grid-col-"+o).css("left",a+"%")},slide:function(o,a){var s=e(a.handle).index(),l=a.values,c=l.length;if(1==s||c==s)return!1;var r=e(a.handle).closest(".column-widths-wrap"),f=r.find(".column-width-input"),u=a.value,p=l[s],h=l[s-2],m=0,v=0,g="",b="",w=0,y=0,k="",x="",C=[],$=0,_=0;if(u<=h||u>=p)return!1;y=u-h,w=p-u,v=s-1,m=s,g=(g=t.options.columnWidths.reduceFraction(y,n))[0].toString()+"/"+g[1].toString(),b=(b=t.options.columnWidths.reduceFraction(w,n))[0].toString()+"/"+b[1].toString(),r.find('input[name="col['+v+']"]').val(g),r.find('input[name="col['+m+']"]').val(b),k=(k=f.val()).split("-");for(var D=1;D<=k.length;D++)x+=D==v?g:D==m?b:k[D-1],D!=k.length&&(x+="-");for(f.val(x).trigger("themeblvd-update-columns"),C=x.split("-"),D=1;D<=d;D++)_=(l[D]-l[D-1])/n*100,i.find(".col-"+D).css("width",_+"%"),i.find(".col-"+D+" .text").text(C[D-1]),D>1&&i.find(".col-"+D).css("left",$+"%"),$+=_}})}},t.options.columnWidths.change=function(){var i=e(this),o=e("#"+i.data("slider"));o.data("uiSlider")&&o.slider("destroy"),o.html("").closest(".column-widths-wrap").find(".column-width-input").val(""),t.options.columnWidths.build(i.closest(".subgroup.columns"))},t.options.columnWidths.reduceFraction=function(e,t){var i=function e(t,i){return i?e(i,t%i):t};return i=i(e,t),[e/i,t/i]}}(jQuery,window.themeblvd,themeblvdL10n),function(e,t,i){t.options.sortable={},t.options.sortable.init=function(i){e(i).find(".tb-sortable-option").each(function(){var i=e(this),o=i.closest(".section-sortable"),n=i.data("max");o.find(".item").each(function(){t.options.sortable.setupItem(e(this))}),i.find(".item-container .item").length&&i.find(".delete-sortable-items").show(),o.find(".item-container").sortable({handle:".item-handle",stop:function(e,t){t.item.themeblvd("options","editor")}}),o.find(".add-item").off("click"),o.find(".add-item").on("click",function(d){d.preventDefault();var a=e(this),s=null,l={};l={action:"themeblvd-add-"+i.data("type")+"-item",security:i.data("security"),data:{option_name:i.data("name"),option_id:i.data("id")}},e.post(ajaxurl,l,function(e){o.find(".item-container").append(e),(s=o.find(".item").last()).addClass("add"),window.setTimeout(function(){s.removeClass("add")},500),o.find(".delete-sortable-items").fadeIn(200),t.options.sortable.setupItem(s),s.themeblvd("options","setup"),s.themeblvd("options","editor"),s.themeblvd("options","code-editor"),s.themeblvd("options","media-uploader"),n>0&&i.find(".item-container > .item").length>=n&&a.prop("disabled",!0)})}),o.find(".delete-sortable-items").off("click"),o.find(".delete-sortable-items").on("click",function(i){i.preventDefault();var o=e(this),n=o.closest(".tb-sortable-option"),d=n.find(".item");t.comfirm(o.attr("title"),{confirm:!0},function(e){e&&(d.addClass("delete"),window.setTimeout(function(){d.remove(),n.find(".delete-sortable-items").fadeOut(200),n.find(".add-item").prop("disabled",!1)},500))})})})},t.options.sortable.setupItem=function(i){i.find(".delete-sortable-item").off("click"),i.find(".delete-sortable-item").on("click",function(i){i.preventDefault();var o=e(this),n=o.closest(".section-sortable"),d=o.closest(".item"),a=o.closest(".tb-sortable-option").data("max");t.confirm(o.attr("title"),{confirm:!0},function(e){e&&(d.addClass("delete"),window.setTimeout(function(){d.remove(),n.find(".item-container .item").length||n.find(".delete-sortable-items").fadeOut(200),a>0&&n.find(".item-container > .item").length<a&&n.find(".add-item").prop("disabled",!1)},500))})}),i.find(".toggle").off("click"),i.find(".toggle").on("click",function(t){t.preventDefault();var i=e(this);i.closest(".item-handle").hasClass("closed")?(i.closest(".item-handle").removeClass("closed"),i.closest(".item").find(".item-content").show()):(i.closest(".item-handle").addClass("closed"),i.closest(".item").find(".item-content").hide())}),i.find(".item-handle h3").each(function(){var t=e(this),i=t.closest(".item").find(".handle-trigger");i.is("select")?t.closest(".item").find(".item-handle h3").text(i.find('option[value="'+i.val()+'"]').text()):t.closest(".item").find(".item-handle h3").text(i.val())}),i.find(".handle-trigger").off("change"),i.find(".handle-trigger").on("change",function(){var t=e(this);t.is("select")?t.closest(".item").find(".item-handle h3").text(t.find('option[value="'+t.val()+'"]').text()):t.closest(".item").find(".item-handle h3").text(t.val())})}}(jQuery,window.themeblvd,themeblvdL10n),jQuery(document).ready(function(e){var t=e(".themeblvd-icon-browser");t.themeblvd("options","setup"),t.themeblvd("options","bind"),t.find(".select-icon").on("click",function(t){t.preventDefault();var i=e(this),o=i.closest(".themeblvd-icon-browser"),n=i.data("icon");o.find(".select-icon").removeClass("selected"),i.addClass("selected"),o.find(".icon-selection").val(n),o.find(".icon-selection-wrap").find("i, span, .svg-inline--fa").remove(),o.find(".icon-selection-wrap").append('<i class="'+n+' fa-2x fa-fw"></i><span>'+n+"</span>")}),t.find(".icon-search-input").on("keyup",function(i){var o=e(this).val(),n=[];console.log("VALUE: "+o),o?(t.find(".select-icon").hide(),"undefined"!=typeof themeblvdIconSearchData&&e.each(themeblvdIconSearchData,function(e,t){var i;for(i=0;i<t.length;i++)0===t[i].indexOf(o)&&(n.push(".icon-"+e),i=t.length)}),t.find(n.join()).show()):t.find(".select-icon").show()}),e(".themeblvd-texture-browser").themeblvd("options","setup"),e(".themeblvd-texture-browser").themeblvd("options","bind"),e.isFunction(e.fn.wpColorPicker)&&e("#texture-browser-perview-color").wpColorPicker({change:function(){e(".themeblvd-texture-browser .select-texture span").css("background-color",e("#texture-browser-perview-color").val())}}),e(".themeblvd-texture-browser .wp-color-result").attr("title","Temporary Preview Color"),e(".themeblvd-texture-browser .select-texture span").css("background-color",e("#texture-browser-perview-color").val()),e(".themeblvd-texture-browser .select-texture").on("click",function(t){t.preventDefault();var i=e(this);i.closest(".themeblvd-texture-browser").find(".select-texture").each(function(){e(this).removeClass("selected")}),i.addClass("selected"),i.closest(".themeblvd-texture-browser").find(".texture-selection").val(i.data("texture")),i.closest(".themeblvd-texture-browser").find(".current-texture").text(i.data("texture-name"))})});