jQuery(document).ready(function(h){var o=h(window),e=o.width(),s=h("body"),v=h("#branding"),k=h(".tb-primary-menu"),g=null,u={},q={yt_init:function(){h(".tb-bg-video.youtube .video").each(function(){var w=h(this),x=w.data();u[this.id]=new YT.Player(this.id,{videoId:x.vid,playerVars:x,events:{onReady:q.yt_ready}})})},yt_ready:function(x){var w=h("#"+x.target.f.id);x.target.mute();x.target.playVideo();w.closest(".youtube").addClass("playing");q.bg_video_size(w);o.on("resize",function(){q.bg_video_size(w)})},bg_video_size:function(J){if(!J.is("video, iframe")){return}var x=J.attr("id"),D="",E=J.closest(".has-bg-video"),C=E.outerWidth(),y=E.outerHeight(),F=J.closest(".tb-bg-video").data("ratio").split(":"),I=0,B=0,z=F[0],H=F[1],A=(H*C)/z,G=(z*y)/H;D="#"+x+" {";if(C/y>z/H){I=Math.ceil(C);B=Math.ceil(A)}else{I=Math.ceil(G);B=Math.ceil(y)}D+="width: "+(I+2)+"px !important;";D+="height: "+(B+2)+"px !important;";D+="}";h("#"+x+"-styles").remove();h("<style type='text/css' id='"+x+"-styles'>"+D+"</style>").appendTo("head:first")}};if(e<768){s.addClass("mobile-on");s.removeClass("tablet-on");if(v.hasClass("transparent")){v.removeClass("transparent");v.addClass("transparent-off")}}else{if(e<992){s.addClass("tablet-on");s.removeClass("mobile-on")}}o.on("resize",function(){var w=o.width();if(w<768){s.addClass("mobile-on");s.removeClass("tablet-on");if(v.hasClass("transparent")){v.removeClass("transparent");v.addClass("transparent-off")}}else{if(w<992){s.addClass("tablet-on");s.removeClass("mobile-on");if(v.hasClass("transparent-off")){v.removeClass("transparent-off");v.addClass("transparent")}}else{s.removeClass("tablet-on");s.removeClass("mobile-on");if(v.hasClass("transparent-off")){v.removeClass("transparent-off");v.addClass("transparent")}}}});if(themeblvd.mobile_side_menu=="true"&&k.hasClass("tb-to-mobile-menu")){s.addClass("mobile-menu-"+themeblvd.mobile_menu_location+"-off");h("#wrapper").after('<div class="tb-mobile-menu-wrapper '+themeblvd.mobile_menu_location+'"><div class="wrap"></div></div>');var n=h(".tb-mobile-menu-wrapper > .wrap"),d=h("#primary-menu-open"),i=h("#primary-menu-close"),l=h(".tb-to-mobile-menu"),t=parseInt(themeblvd.mobile_menu_viewport_max);v.find(".tb-search").first().clone().addClass("mini").appendTo(n);k.clone().appendTo(n);s.find(".header-text.to-mobile").first().clone().appendTo(n);s.find(".tb-social-icons.to-mobile").first().clone().appendTo(n);n.find("li.menu-search, li.menu-contact, li.menu-cart").remove();n.find(".tb-primary-menu").removeClass("sf-menu tb-primary-menu").addClass("tb-mobile-menu tb-side-menu");if(!v.find(".menu-item-language").length){v.find(".top-wpml").each(function(){var x=h(this),w=h('<li class="menu-item mobile-wpml"></li>'),z=h('<span class="menu-btn">'+x.find(".tb-wpml-switcher > ul > li > a").html()+"</span>"),y=x.find(".lang-sub-menu");w.append(z);if(y.length){z.find(".fa").addClass("sf-sub-indicator");w.append(y.clone().addClass("sub-menu non-mega-sub-menu"))}w.appendTo(n.find(".tb-mobile-menu"))})}if(themeblvd.mobile_side_menu_icon_color){n.find(".tb-social-icons").removeClass("grey dark light flat color").addClass(themeblvd.mobile_side_menu_icon_color).find(".social-media > li > a").each(function(){if(themeblvd.mobile_side_menu_icon_color=="color"){h(this).removeClass("tb-icon")}else{h(this).addClass("tb-icon")}})}d.on("click",function(){s.removeClass("mobile-menu-"+themeblvd.mobile_menu_location+"-off").addClass("mobile-menu-"+themeblvd.mobile_menu_location+"-on");d.hide();i.show();return false});i.on("click",function(){s.removeClass("mobile-menu-"+themeblvd.mobile_menu_location+"-on").addClass("mobile-menu-"+themeblvd.mobile_menu_location+"-off");i.hide();d.show();return false});h("#wrapper").on("click",function(){s.removeClass("mobile-menu-"+themeblvd.mobile_menu_location+"-on").addClass("mobile-menu-"+themeblvd.mobile_menu_location+"-off");i.hide();d.show()});o.on("resize",function(){if(o.width()>t){s.removeClass("mobile-menu-"+themeblvd.mobile_menu_location+"-on").addClass("mobile-menu-"+themeblvd.mobile_menu_location+"-off");i.hide();d.show()}})}h(".tb-side-menu").on("click",".tb-side-menu-toggle",function(){var w=h(this);if(w.hasClass("open")){w.next(".sub-menu, .sf-mega").slideUp(100);w.removeClass("open fa-"+w.data("close"));w.addClass("fa-"+w.data("open"))}else{w.next(".sub-menu, .sf-mega").slideDown(100);w.removeClass("fa-"+w.data("open"));w.addClass("open fa-"+w.data("close"))}});if(themeblvd.sticky!=="false"){var a=h(themeblvd.sticky),c=h('<div id="sticky-menu" class="tb-sticky-menu"><div class="wrap sticky-wrap clearfix"><div class="nav"></div></div></div>').appendTo(a);v.find(".header-logo:first-child").clone().appendTo(c.find(".sticky-wrap"));if(themeblvd.sticky_logo){c.find(".header_logo_image img").attr("src",themeblvd.sticky_logo).removeAttr("width height srcset")}k.clone().appendTo(c.find(".sticky-wrap > .nav"));if(c.find(".tb-primary-menu li.menu-contact").length){c.find(".tb-contact-trigger").data("container",".tb-sticky-menu")}else{if(v.find(".tb-social-icons").length){c.find(".tb-primary-menu").append('<li class="menu-item level-1 menu-contact"><a href="#" class="tb-contact-trigger menu-btn" tabindex="0" data-toggle="popover" data-container=".tb-sticky-menu" data-placement="bottom" data-open="envelope-o" data-close="close"><i class="fa fa-envelope-o"></i></a></li>');v.find(".tb-social-icons").first().clone().appendTo(c.find(".menu-contact")).wrap('<div class="contact-popover-content hide"></div>')}}if(c.find(".tb-social-icons").hasClass("light")){c.find(".tb-social-icons").removeClass("light").addClass("grey")}if(v.find(".tb-cart-trigger").length&&!c.find(".tb-primary-menu li.menu-cart").length){v.find(".tb-cart-trigger").first().clone().appendTo(c.find(".tb-primary-menu")).wrap('<li class="menu-item level-1 menu-cart"></li>')}if(c.find(".tb-primary-menu li.menu-search").length){c.find(".tb-search-trigger").data("placement","below").addClass("menu-btn");v.find(".tb-floating-search").clone().appendTo(c)}else{if(v.find(".tb-search-trigger").length){v.find(".tb-floating-search").clone().appendTo(c);v.find(".tb-search-trigger").first().clone().appendTo(c.find(".tb-primary-menu")).wrap('<li class="menu-item level-1 menu-search"></li>');c.find(".tb-search-trigger").data("placement","below").addClass("menu-btn")}}a.viewportChecker({classToAdd:"visible",repeat:true,offset:parseInt(themeblvd.sticky_offset),callbackFunction:function(w,x){if(w.hasClass("visible")){var y=w.find("#sticky-menu .tb-search-trigger");if(y.hasClass("open")){y.stop().removeClass("open").html('<i class="fa fa-'+y.data("open")+'"></i>');w.find("#sticky-menu .tb-floating-search").fadeOut(250).attr("style","").removeClass("below")}w.find("#sticky-menu .tb-contact-trigger").popover("hide");w.find("#sticky-menu .menu-item").each(function(){var z=h(this).closest("li");if(z.hasClass("sfHover")){z.removeClass("sfHover");z.find(".non-mega-sub-menu").hide();z.find(".sf-mega").hide()}})}}})}if(themeblvd.superfish=="true"){h("ul.sf-menu").superfish({speed:200,popUpSelector:".non-mega-sub-menu,.sf-mega",onBeforeShow:function(){var x=h(this),z=x.closest("li"),w=z.offset(),y=200;if(!x.hasClass("non-mega-sub-menu")||!z.hasClass("level-1")){return}if(x.find(".level-4").length>0){y=600}else{if(x.find(".level-3").length>0){y=400}}if((h(window).width()-w.left)<=y){x.addClass("reverse");x.find(".fa-caret-right, .fa-caret-left").each(function(){h(this).addClass("inverse")})}else{x.removeClass("reverse");x.find(".fa-caret-right, .fa-caret-left").each(function(){h(this).removeClass("inverse")})}}});h(".tb-mobile-menu").superfish({speed:200,popUpSelector:".non-mega-sub-menu,.sf-mega"})}h("ul.sf-menu li.no-click, ul.tb-mobile-menu li.no-click").find("a:first").on("click",function(){return false});h("a.no-click").on("click",function(){return false});h(".tb-search-trigger").on("click",function(){var y=h(this),x=y.data("placement"),z=y.closest(".site-header > .wrap, .tb-sticky-menu").find(".tb-floating-search"),w=z.closest(".site-header");z.removeClass("full bottom below top").addClass(x);if(y.hasClass("open")){y.stop().removeClass("open").html('<i class="fa fa-'+y.data("open")+'"></i>');z.stop().fadeOut(250,function(){h(this).attr("style","")});if(w.find(".header-content > .wrap").hasClass("floating-search-full-on")){w.find(".header-content > .wrap").stop().animate({opacity:1},250).removeClass("floating-search-full-on")}else{if(w.find(".header-nav").hasClass("floating-search-below-on")){w.find(".header-nav").stop().animate({opacity:1},250).removeClass("floating-search-below-on")}}}else{y.stop().addClass("open").html('<i class="fa fa-'+y.data("close")+'"></i>');if(x=="full"){z.fadeIn(250).find(".search-input").focus();w.find(".header-content > .wrap").stop().animate({opacity:0},250).addClass("floating-search-full-on")}else{if(x=="bottom"){z.stop().css({bottom:-5,marginTop:0,display:"block",opacity:0}).animate({bottom:0,opacity:1},250).find(".search-input").focus()}else{if(x=="below"){z.stop().css({top:"100%",marginTop:-5,display:"block",opacity:0}).animate({marginTop:0,opacity:1},250).find(".search-input").focus();h(".site-header > .wrap > .header-nav").stop().animate({opacity:0.1},250).addClass("floating-search-below-on")}else{z.stop().css({top:-5,marginTop:0,display:"block",opacity:0}).animate({top:0,opacity:1},250).find(".search-input").focus()}}}}return false});o.on("load",function(){h(".tb-isotope").each(function(){var y=h(this),x="fitRows",w=true;if(y.hasClass("tb-masonry")){x="masonry"}if(s.hasClass("rtl")){w=false}y.find(".post-wrap > .row").fadeIn(400,function(){var z=y.find(".post-wrap > .row").isotope({layoutMode:x,itemSelector:".iso-item",filter:"*",isOriginLeft:w});y.find(".tb-loader").fadeOut(100);if(y.hasClass("tb-filter")){y.find(".tb-filter-nav").fadeIn(400);y.find(".filter-menu > li > a").on("click",function(){var B=h(this),A=B.data("filter");y.find(".filter-menu > li").removeClass("active");B.closest("li").addClass("active");z.isotope({filter:A});B.closest(".tb-filter").find(".grid-item").each(function(){var C=h(this);if(C.is(A)){C.find("a.lightbox-gallery-item").addClass("visible")}else{C.find("a.lightbox-gallery-item").removeClass("visible")}});return false})}})})});h(".tb-contact-trigger").popover({html:true,template:'<div class="tb-contact-popover popover" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',content:function(){return h(this).next(".contact-popover-content").html()}}).on("click",function(w){w.preventDefault()});h(".tb-contact-trigger").on("show.bs.popover",function(){var w=h(this);w.html('<i class="fa fa-'+w.data("close")+'"></i>')});h(".tb-contact-trigger").on("hide.bs.popover",function(){var w=h(this);w.html('<i class="fa fa-'+w.data("open")+'"></i>')});if(themeblvd.scroll_to_top=="true"){var m=h(".tb-scroll-to-top");o.on("scroll",function(){if(h(this).scrollTop()>400){m.fadeIn()}else{m.fadeOut()}});m.on("click",function(){h("html, body").animate({scrollTop:0},400);return false})}h(".tb-scroll-to").on("click",function(){var w=h(this),y=null,x=0;if(this.hash&&this.hash!="#"){y=this.hash}else{y="#"+w.closest(".element-section").next().attr("id")}x=h(y).offset().top;if(themeblvd.scroll_to_section_offset){x=x-parseInt(themeblvd.scroll_to_section_offset)}else{if(themeblvd.sticky!=="false"){x=x-parseInt(themeblvd.sticky_offset)}}h("html, body").animate({scrollTop:x},800);return false});h(".tb-share .btn-share.popup").on("click",function(){if(!window.open(h(this).attr("href"),"","height=320, width=640, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no")){document.location.href=h(this).attr("href")}return false});if(themeblvd.gallery=="true"){h(".gallery").each(function(){var w=h(this);w.addClass("themeblvd-gallery clearfix");w.find(".gallery-item a").each(function(){var x=this.href.split("?"),x=x[0],y="tb-thumb-link";if(themeblvd.gallery_thumb_frame=="true"){y+=" thumbnail"}if(x.match(/\.(jpe?g|png|bmp|gif|tiff?)$/i)){y+=" image";if(themeblvd.magnific_popup=="true"){y+=" lightbox-gallery-item mfp-image image-button visible"}}else{y+=" post"}h(this).addClass(y)})})}if(themeblvd.magnific_popup=="true"){var j=0,f="";if(themeblvd.lightbox_animation!="none"){j=160;f="themeblvd-mfp-"+themeblvd.lightbox_animation}h(".themeblvd-gallery").each(function(){h(this).find(".themeblvd-lightbox").each(function(){h(this).removeClass("themeblvd-lightbox").addClass("lightbox-gallery-item visible")});h(this).magnificPopup({disableOn:themeblvd.lightbox_mobile_gallery,delegate:"a.lightbox-gallery-item.visible",gallery:{enabled:true},image:{cursor:null,},iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>'},removalDelay:j,mainClass:f})});h(".themeblvd-lightbox").magnificPopup({disableOn:themeblvd.lightbox_mobile,removalDelay:j,mainClass:f,image:{cursor:null,}});h(".themeblvd-lightbox.lightbox-iframe, li.menu-item.video > a").magnificPopup({disableOn:themeblvd.lightbox_mobile_iframe,type:"iframe",removalDelay:j,mainClass:f});h.extend(true,h.magnificPopup.defaults,{tClose:themeblvd.lightbox_close,tLoading:themeblvd.lightbox_loading,gallery:{tPrev:themeblvd.lightbox_previous,tNext:themeblvd.lightbox_next,tCounter:themeblvd.lightbox_counter},image:{tError:themeblvd.lightbox_error},ajax:{tError:themeblvd.lightbox_error}})}h(".tb-jump-menu").change(function(){window.location.href=h(this).val()});h(".tb-block-slider").each(function(){var B=h(this),C=B.find(".slider-inner"),A=B.data("fx"),z=B.data("timeout"),E=true,w=B.data("nav"),D=false,x=false,y=false;if(s.hasClass("mobile")){A="slide"}if(z&&z!=="0"&&!s.hasClass("mobile")){z=z+"000"}else{E=false}if(w&&w!=="0"){w=true}else{w=false}if(!w){D=true}o.on("load",function(){C.flexslider({smoothHeight:x,animation:A,easing:"swing",slideshowSpeed:z,animationSpeed:"1000",slideshow:E,directionNav:false,controlNav:y,pauseOnHover:D,pauseOnAction:false,start:function(F){if(!s.hasClass("mobile")){B.find(".tb-slider-arrows").fadeIn(100)}B.find(".tb-loader").fadeOut(100)}})});if(w){C.on("mouseover",function(){C.data("flexslider").flexslider("pause")});B.find(".slider-inner > .tb-slider-arrows a").on("click",function(){if(h(this).hasClass("next")){C.data("flexslider").flexslider("next")}else{C.data("flexslider").flexslider("prev")}C.data("flexslider").flexslider("pause");return false})}});h(".tb-jumbotron-slider").each(function(){var w=h(this);w.on("slide.bs.carousel",function(y){var x=h(y.relatedTarget).find(".jumbotron-outer").outerHeight();w.animate({height:x},1000);if(!s.hasClass("mobile")){w.addClass("animate");setTimeout(function(){w.removeClass("animate")},1000)}});w.find(".tb-slider-arrows a, .carousel-indicators li").on("click",function(){w.carousel("pause")});o.on("load",function(){w.find(".carousel-control-wrap").fadeIn(200,function(){var x=w.find(".item.active .jumbotron-outer").outerHeight();w.animate({height:x});w.find(".tb-loader").fadeOut(100);q.bg_video_size(w.find(".tb-bg-video video, .tb-bg-video iframe"))})})});o.on("resize",function(){h(".tb-jumbotron-slider").each(function(){var x=h(this),w=x.find(".item.active .jumbotron-outer").outerHeight();x.css("height",w)})});var r=h(".tb-parallax .parallax-figure");o.on("load",function(){r.each(function(){var H=h(this),w=H.find("img, .img");if(o.width()>991&&o.height()>499){var z=w.height(),A=(H.height()>0)?H.height():500,D=z-A,x=H.offset().top+A,F=H.offset().top,E=o.scrollTop(),G=window.innerHeight,y=E+G,C=(y-F)/(A+G),B=Math.round((D*C));if((x>E)&&(F<(E+G))){w.css("transform","translate3D(-50%,"+B+"px, 0)")}}w.addClass("on")})});o.on("scroll resize",function(){if(o.width()<992||o.height()<500){return}r.each(function(){var H=h(this),w=H.find("img, .img"),z=w.height(),A=(H.height()>0)?H.height():500,D=z-A,x=H.offset().top+A,F=H.offset().top,E=o.scrollTop(),G=window.innerHeight,y=E+G,C=(y-F)/(A+G),B=Math.round((D*C));if((x>E)&&(F<(E+G))){w.css("transform","translate3D(-50%,"+B+"px, 0)")}})});if(themeblvd.custom_buttons=="true"){h(".tb-custom-button").hover(function(){var w=h(this);w.css({"background-color":w.data("bg-hover"),color:w.data("text-hover")})},function(){var w=h(this);w.css({"background-color":w.data("bg"),color:w.data("text")})})}if(typeof google==="object"&&typeof google.maps==="object"){h(".tb-map").each(function(){var x=h(this);var w=function(){var y=x.find(".map-canvas").attr("id"),A,D;A={center:new google.maps.LatLng(x.find(".map-center").data("lat"),x.find(".map-center").data("long")),zoom:x.data("zoom"),draggable:x.data("draggable"),panControl:x.data("pan_control"),zoomControl:x.data("zoom_control"),mapMaker:false,mapTypeControl:false,mapTypeId:google.maps.MapTypeId.ROADMAP,backgroundColor:"transparent",streetViewControl:false,scrollwheel:false};D=new google.maps.Map(document.getElementById(y),A);x.find(".map-marker").each(function(){var G=h(this),F=null;if(G.data("image")){F={url:G.data("image")};if(G.data("image-width")&&G.data("image-height")){F.scaledSize=new google.maps.Size(parseInt(G.data("image-width")),parseInt(G.data("image-height")))}}var E=new google.maps.Marker({position:new google.maps.LatLng(G.data("lat"),G.data("long")),map:D,title:G.data("name"),icon:F,animation:google.maps.Animation.DROP});var H=new google.maps.InfoWindow({content:'<div class="map-marker-info">'+G.find(".map-marker-info").html()+"</div>"});google.maps.event.addListener(E,"click",function(){H.open(D,E)})});var z=[],B=[],C;z.push({saturation:x.data("saturation")});z.push({lightness:x.data("lightness")});if(x.data("hue")){z.push({hue:x.data("hue")})}if(z.length){B=[{featureType:"all",elementType:"all",stylers:z}];C=new google.maps.StyledMapType(B,{name:"tb_map_style"});D.mapTypes.set("tb_map_style",C);D.setMapTypeId("tb_map_style")}};google.maps.event.addDomListener(window,"load",w)})}if(themeblvd.bootstrap=="true"){h("#calendar_wrap table").addClass("table table-bordered");h(".tabbable.fixed-height").each(function(){var w=0;h(this).find(".tab-pane").each(function(){var x=h(this).height();if(x>w){w=x}});h(this).find(".tab-pane").height(w)});h(".collapse").on("show.bs.collapse",function(){h(this).closest(".panel").find(".panel-heading a").addClass("active-trigger").find(".switch-me").removeClass("fa-plus-circle").addClass("fa-minus-circle")});h(".collapse").on("hide.bs.collapse",function(){h(this).closest(".panel").find(".panel-heading a").removeClass("active-trigger").find(".switch-me").removeClass("fa-minus-circle").addClass("fa-plus-circle")});var p;h(".tb-accordion").each(function(){p=h(this).attr("id");h(this).find(".panel-heading a").each(function(){h(this).attr("data-parent","#"+p)})});h(".tb-simple-slider .carousel-thumb-nav li").click(function(){var w=h(this);w.closest(".carousel-thumb-nav").find("li").removeClass("active");w.addClass("active")});h(".tb-simple-slider").on("slid.bs.carousel",function(){var w=h(this),x=w.data("bs.carousel"),y=x.getItemIndex(x.$element.find(".item.active"))+1;w.find(".carousel-thumb-nav li").removeClass("active");w.find(".carousel-thumb-nav li:nth-child("+y+")").addClass("active")});h(".tb-simple-slider .carousel-indicators").each(function(){var w=h(this),x=(14*w.find("li").length);w.css({width:x+"px","margin-left":"-"+(x/2)+"px"})});h(".tb-simple-slider").each(function(){var w=h(this);w.find(".tb-thumb-link, .carousel-indicators li, .carousel-control, .tb-slider-arrows > li > a").on("click",function(){w.carousel("pause")})});if(h.mobile){h('[data-ride="carousel"]').swiperight(function(){if(s.hasClass("rtl")){h(this).carousel("next")}else{h(this).carousel("prev")}});h('[data-ride="carousel"]').swipeleft(function(){if(s.hasClass("rtl")){h(this).carousel("prev")}else{h(this).carousel("next")}})}if(themeblvd.tabs_deep_linking=="true"){var b=document.location.hash;if(b&&b.indexOf("tab_")!=-1){h('.element-tabs a[href="'+b.replace("tab_","")+'"]').tab("show")}}h(".desktop .tb-tooltip").tooltip()}if(h.fn.easyPieChart!="undefined"){if(!s.hasClass("tb-scroll-effects")||s.hasClass("mobile")){h(".tb-milestone-percent").each(function(){var w=h(this).find(".chart");w.easyPieChart({lineWidth:6,size:160,animate:1000,barColor:w.data("color"),trackColor:w.data("track-color"),scaleColor:false,lineCap:"square",easing:"easeOutBounce"})})}}if(typeof Chart!=="undefined"){h(".tb-chart.pie, .tb-chart.doughnut").each(function(){var x=h(this),z="pie",w=x.find("canvas").get(0).getContext("2d"),A=[],y;if(x.hasClass("doughnut")){z="doughnut"}x.find(".data").each(function(){var B=h(this);A.push({value:B.data("value"),color:B.data("color"),highlight:B.data("highlight"),label:B.data("label")})});if(z=="doughnut"){y=new Chart(w).Doughnut(A,{showTooltips:x.data("tooltips")})}else{y=new Chart(w).Pie(A,{showTooltips:x.data("tooltips")})}if(x.data("legend")){x.append('<div class="legend">'+y.generateLegend()+"</div>")}if(s.hasClass("tb-scroll-effects")&&s.hasClass("desktop")){x.find(".chart-wrap").css("opacity","0").viewportChecker({classToAdd:"visible",offset:0,callbackFunction:function(B,C){B.css("opacity","1");y.render()}})}});h(".tb-chart.bar, .tb-chart.line").each(function(){var x=h(this),A="line",w=x.find("canvas").get(0).getContext("2d"),B=[],z=[],y;if(x.hasClass("bar")){A="bar"}x.find(".data").each(function(){var C=h(this);z.push({label:C.data("label"),fillColor:C.data("fill"),strokeColor:C.data("stroke"),pointColor:C.data("point"),data:C.data("values").split(",")})});B={labels:x.data("labels").split(","),datasets:z};if(A=="bar"){y=new Chart(w).Bar(B,{barShowStroke:false,scaleBeginAtZero:x.data("start"),showTooltips:x.data("tooltips")})}else{y=new Chart(w).Line(B,{bezierCurve:x.data("curve"),datasetFill:x.data("fill"),pointDot:x.data("dot"),scaleBeginAtZero:x.data("start"),showTooltips:x.data("tooltips")})}if(x.data("legend")){x.append('<div class="legend">'+y.generateLegend()+"</div>")}if(s.hasClass("tb-scroll-effects")&&s.hasClass("desktop")){x.find(".chart-wrap").css("opacity","0").viewportChecker({classToAdd:"visible",offset:0,callbackFunction:function(C,D){C.css("opacity","1");y.render()}})}})}if(s.hasClass("tb-scroll-effects")){h("#custom-main").find(".element-section, .element-section > .element").viewportChecker({classToAdd:"visible",offset:0})}h(".desktop.tb-scroll-effects .tb-milestone .milestone").each(function(){var x=h(this),w=parseInt(x.data("num"));x.viewportChecker({classToAdd:"visible",offset:0,callbackFunction:function(y,z){y.find(".num").countTo({from:0,to:w,speed:900,refreshInterval:30})}})});if(h.fn.easyPieChart!="undefined"){h(".desktop.tb-scroll-effects .tb-milestone-percent").each(function(){var w=h(this).find(".chart");w.css("opacity","0").viewportChecker({classToAdd:"visible",offset:0,callbackFunction:function(x,y){x.easyPieChart({lineWidth:6,size:160,animate:1000,barColor:w.data("color"),trackColor:w.data("track-color"),scaleColor:false,lineCap:"square",easing:"easeOutBounce",onStart:function(){w.css("opacity","1")}})}})})}h(".desktop.tb-scroll-effects .tb-progress .progress-bar").each(function(){h(this).viewportChecker({classToAdd:"visible",offset:0,callbackFunction:function(w,x){w.animate({width:w.data("percent")+"%"},400)}})});h(".tb-bg-video.html5").each(function(){var w=h(this);w.find("video").mediaelementplayer({startVolume:0,loop:false,enableKeyboard:false,pauseOtherPlayers:false,success:function(x){x.addEventListener("canplay",function(){x.play();q.bg_video_size(w.find("video"));w.addClass("playing")},false)}});o.on("resize",function(){q.bg_video_size(w.find("video"))})});if(h(".tb-bg-video.youtube").length){h.getScript("https://www.youtube.com/iframe_api",function(){if(typeof YT==="object"){g=setInterval(function(){if(typeof YT==="object"){q.yt_init();clearInterval(g)}},500)}})}if(typeof Froogaloop!=="undefined"){h(".tb-bg-video.vimeo").each(function(){var x=h(this),y=x.find("iframe"),w=$f(y[0]);w.addEvent("ready",function(){q.bg_video_size(y);o.on("resize",function(){q.bg_video_size(y)});w.addEvent("play",function(z){x.addClass("playing")});w.api("play");w.api("setVolume",0)})})}});(function(a){a.fn.viewportChecker=function(b){var d={classToAdd:"visible",offset:100,repeat:false,callbackFunction:function(g,h){}};a.extend(d,b);var c=this,f=a(window).height(),e=((navigator.userAgent.toLowerCase().indexOf("webkit")!=-1)?"body":"html");this.checkElements=function(){var g=a(e).scrollTop(),h=(g+f);c.each(function(){var k=a(this);if(k.hasClass(d.classToAdd)&&!d.repeat){return}var i=Math.round(k.offset().top)+d.offset,j=i+(k.height());if((i<h)&&(j>g)){k.addClass(d.classToAdd);d.callbackFunction(k,"add")}else{if(k.hasClass(d.classToAdd)&&(d.repeat)){k.removeClass(d.classToAdd);d.callbackFunction(k,"remove")}}})};a(window).bind("load scroll touchmove",this.checkElements);a(window).on("resize",function(g){f=g.currentTarget.innerHeight});return this}})(jQuery);(function(b){b.fn.countTo=function(c){c=c||{};return b(this).each(function(){var e=b.extend({},b.fn.countTo.defaults,{from:b(this).data("from"),to:b(this).data("to"),speed:b(this).data("speed"),refreshInterval:b(this).data("refresh-interval"),decimals:b(this).data("decimals")},c);var j=Math.ceil(e.speed/e.refreshInterval),k=(e.to-e.from)/j;var l=this,h=b(this),g=0,i=e.from,f=h.data("countTo")||{};h.data("countTo",f);if(f.interval){clearInterval(f.interval)}f.interval=setInterval(m,e.refreshInterval);d(i);function m(){i+=k;g++;d(i);if(typeof(e.onUpdate)=="function"){e.onUpdate.call(l,i)}if(g>=j){h.removeData("countTo");clearInterval(f.interval);i=e.to;if(typeof(e.onComplete)=="function"){e.onComplete.call(l,i)}}}function d(o){var n=e.formatter.call(l,o,e);h.text(n)}})};b.fn.countTo.defaults={from:0,to:0,speed:1000,refreshInterval:100,decimals:0,formatter:a,onUpdate:null,onComplete:null};function a(d,c){return d.toFixed(c.decimals)}}(jQuery));(function(a){a.fn.toggleMenu=function(b){var c=a.extend({viewport:768,openClass:"mobile-open",closedClass:"mobile-closed"},b);this.each(function(){var e=a(this),d,g,f=false;if(e.data("toggle")){d=a(e.data("toggle"))}else{d=a(e.attr("href"))}e.click(function(){if(d.hasClass(c.openClass)){d.slideUp().removeClass(c.openClass).addClass(c.closedClass)}else{d.slideDown().removeClass(c.closedClass).addClass(c.openClass)}return false});a(window).on("resize",function(){if(false!==f){clearTimeout(f)}f=setTimeout(function(){g=a(window).width();if(g>c.viewport){d.show().removeClass(c.openClass+" "+c.closedClass).addClass("expanded")}else{if(d.hasClass("expanded")){d.hide().removeClass("expanded")}}},100)})})}})(jQuery);