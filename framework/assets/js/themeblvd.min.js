jQuery(document).ready(function(f){var l=f(window),c=l.width(),q=f("body"),t=f("#branding"),h=f(".tb-primary-menu"),e=null,s={},o={yt_init:function(){f(".tb-bg-video.youtube .video").each(function(){var v=f(this),w=v.data();s[this.id]=new YT.Player(this.id,{videoId:w.vid,playerVars:w,events:{onReady:o.yt_ready}})})},yt_ready:function(x){var w=x.target.getIframe(),v=f("#"+w.id);x.target.mute();x.target.playVideo();setTimeout(function(){v.closest(".youtube").addClass("playing");o.bg_video_size(v);l.on("resize",function(){o.bg_video_size(v)})},500)},bg_video_size:function(I){if(!I.is("video, iframe")){return}var v=I.attr("id"),C="",D=I.closest(".has-bg-video"),B=D.outerWidth(),x=D.outerHeight(),E=I.closest(".tb-bg-video").data("ratio").split(":"),H=0,A=0,y=E[0],G=E[1],z=(G*B)/y,F=(y*x)/G;C="#"+v+" {";if(B/x>y/G){H=Math.ceil(B);A=Math.ceil(z)}else{H=Math.ceil(F);A=Math.ceil(x)}C+="width: "+(H+2)+"px !important;";C+="height: "+(A+2)+"px !important;";C+="}";f("#"+v+"-styles").remove();f("<style type='text/css' id='"+v+"-styles'>"+C+"</style>").appendTo("head:first")}};if(c<768){q.addClass("mobile-on");q.removeClass("tablet-on");if(t.hasClass("transparent")){t.removeClass("transparent");t.addClass("transparent-off")}}else{if(c<992){q.addClass("tablet-on");q.removeClass("mobile-on")}}l.on("resize",function(){var v=l.width();if(v<768){q.addClass("mobile-on");q.removeClass("tablet-on");if(t.hasClass("transparent")){t.removeClass("transparent");t.addClass("transparent-off")}}else{if(v<992){q.addClass("tablet-on");q.removeClass("mobile-on");if(t.hasClass("transparent-off")){t.removeClass("transparent-off");t.addClass("transparent")}}else{q.removeClass("tablet-on");q.removeClass("mobile-on");if(t.hasClass("transparent-off")){t.removeClass("transparent-off");t.addClass("transparent")}}}});if(themeblvd.mobile_panel=="true"&&h.hasClass("tb-to-mobile-menu")){q.addClass("mobile-menu-"+themeblvd.mobile_menu_location+"-off");f("#wrapper").after('<div class="tb-mobile-menu-wrapper '+themeblvd.mobile_panel_class+" "+themeblvd.mobile_menu_location+'"><div class="wrap"></div></div>');var k=f(".tb-mobile-menu-wrapper > .wrap"),i=f(".tb-to-mobile-menu"),n=f(".tb-nav-trigger"),r=parseInt(themeblvd.mobile_menu_viewport_max);f(".tb-floating-search .tb-search").first().clone().addClass("mini panel-item").appendTo(k);h.first().clone().removeClass("sf-menu tb-primary-menu tb-to-mobile-menu").addClass("tb-mobile-menu tb-side-menu panel-item").appendTo(k);if(themeblvd.side_panel=="true"){var u=f(".tb-side-panel > .wrap");u.find(".menu").children("li").clone().appendTo(k.find(".tb-mobile-menu"));k.find(".submenu-toggle").remove();u.find(".secondary-menu").clone().addClass("panel-item").appendTo(k)}q.find(".header-text.to-mobile").first().clone().addClass("panel-item").appendTo(k);q.find(".tb-social-icons.to-mobile").first().clone().removeClass("grey dark light flat").addClass("panel-item").appendTo(k);k.find("li.menu-search, li.menu-contact, li.menu-cart").remove();if(!t.find(".menu-item-language").length){t.find(".top-wpml").each(function(){var w=f(this),v=f('<li class="menu-item mobile-wpml"></li>'),y=f('<span class="menu-btn">'+w.find(".tb-wpml-switcher > ul > li > a").html()+"</span>"),x=w.find(".lang-sub-menu");if(x.length){v.append(y);y.find(".fa").addClass("sf-sub-indicator");v.append(x.clone().addClass("sub-menu non-mega-sub-menu"));v.appendTo(k.find(".tb-mobile-menu"))}})}n.on("click",function(){if(n.hasClass("collapse")){q.removeClass("mobile-menu-"+themeblvd.mobile_menu_location+"-on").addClass("mobile-menu-"+themeblvd.mobile_menu_location+"-off");n.removeClass("collapse")}else{q.removeClass("mobile-menu-"+themeblvd.mobile_menu_location+"-off").addClass("mobile-menu-"+themeblvd.mobile_menu_location+"-on");n.addClass("collapse")}return false});f("#wrapper").on("click",function(){q.removeClass("mobile-menu-"+themeblvd.mobile_menu_location+"-on").addClass("mobile-menu-"+themeblvd.mobile_menu_location+"-off");n.removeClass("collapse")});l.on("resize",function(){if(l.width()>r){q.removeClass("mobile-menu-"+themeblvd.mobile_menu_location+"-on").addClass("mobile-menu-"+themeblvd.mobile_menu_location+"-off");n.removeClass("collapse")}})}f(".tb-side-menu").on("click",".tb-side-menu-toggle",function(){var v=f(this);if(v.hasClass("open")){v.next(".sub-menu, .sf-mega").slideUp(100);v.removeClass("open fa-"+v.data("close"));v.addClass("fa-"+v.data("open"))}else{v.next(".sub-menu, .sf-mega").slideDown(100);v.removeClass("fa-"+v.data("open"));v.addClass("open fa-"+v.data("close"))}return false});if(themeblvd.side_panel=="true"){f(".tb-side-trigger").on("click",function(){var v=f(this);if(v.hasClass("collapse")){v.removeClass("collapse");q.removeClass("side-panel-on")}else{v.addClass("collapse");q.addClass("side-panel-on")}return false});f(".tb-side-panel .submenu-toggle").on("click",function(){var v=f(this);if(v.hasClass("collapse")){v.removeClass("collapse").closest("li").find(".sub-menu").slideUp(200)}else{v.addClass("collapse").closest("li").find(".sub-menu").slideDown(200)}return false})}if(themeblvd.sticky!=="false"){var b=f('<div id="sticky-menu" class="tb-sticky-menu"><div class="wrap sticky-wrap clearfix"><div class="nav"></div></div></div>').insertAfter(f("#wrapper"));if(t.hasClass("light")){b.addClass("light")}else{if(t.hasClass("dark")){b.addClass("dark")}}t.find(".header-logo:first-child").clone().appendTo(b.find(".sticky-wrap"));if(themeblvd.sticky_logo){b.find(".header_logo_image img").attr("src",themeblvd.sticky_logo).removeAttr("width height srcset")}h.clone().appendTo(b.find(".sticky-wrap > .nav"));if(b.find(".tb-primary-menu li.menu-contact").length){b.find(".tb-contact-trigger").data("container",".tb-sticky-menu")}else{if(t.find(".tb-social-icons").length){b.find(".tb-primary-menu").append('<li class="menu-item level-1 menu-contact"><a href="#" class="tb-contact-trigger menu-btn" tabindex="0" data-toggle="popover" data-container=".tb-sticky-menu" data-placement="bottom" data-open="envelope-o" data-close="close"><i class="fa fa-envelope-o"></i></a></li>');t.find(".tb-social-icons").first().clone().appendTo(b.find(".menu-contact")).wrap('<div class="contact-popover-content hide"></div>')}}if(b.find(".tb-social-icons").hasClass("light")){b.find(".tb-social-icons").removeClass("light").addClass("grey")}if(t.find(".tb-cart-trigger").length&&!b.find(".tb-primary-menu li.menu-cart").length){t.find(".tb-cart-trigger").first().clone().appendTo(b.find(".tb-primary-menu")).wrap('<li class="menu-item level-1 menu-cart"></li>')}if(b.find(".tb-primary-menu li.menu-search").length){b.find(".tb-search-trigger").addClass("menu-btn")}else{if(t.find(".tb-search-trigger").length){t.find(".tb-search-trigger").first().clone().appendTo(b.find(".tb-primary-menu")).wrap('<li class="menu-item level-1 menu-search"></li>');b.find(".tb-search-trigger").addClass("menu-btn")}}b.find(".no-sticky").remove();t.viewportChecker({classToAdd:"visible",offset:parseInt(themeblvd.sticky_offset),repeat:true,callbackFunction:function(v,w){if(v.hasClass("visible")){q.removeClass("sticky-on");b.find(".tb-contact-trigger").popover("hide");b.find(".menu-item").each(function(){var x=f(this).closest("li");if(x.hasClass("sfHover")){x.removeClass("sfHover");x.find(".non-mega-sub-menu").hide();x.find(".sf-mega").hide()}})}else{q.addClass("sticky-on")}}})}if(themeblvd.superfish=="true"){f("ul.sf-menu").superfish({speed:200,popUpSelector:".non-mega-sub-menu,.sf-mega",onBeforeShow:function(){var w=f(this),y=w.closest("li"),v=y.offset(),x=200;if(!v){return}if(q.hasClass("rtl")){v=v.right}else{v=v.left}if(!w.hasClass("non-mega-sub-menu")||!y.hasClass("level-1")){return}if(w.find(".level-4").length>0){x=600}else{if(w.find(".level-3").length>0){x=400}}if((f(window).width()-v)<=x){w.addClass("reverse");w.find(".fa-caret-right, .fa-caret-left").each(function(){f(this).addClass("inverse")})}else{w.removeClass("reverse");w.find(".fa-caret-right, .fa-caret-left").each(function(){f(this).removeClass("inverse")})}}});f(".tb-mobile-menu").superfish({speed:200,popUpSelector:".non-mega-sub-menu,.sf-mega"})}f("ul.sf-menu li.no-click, ul.tb-mobile-menu li.no-click, .tb-side-panel li.no-click").find("a:first").on("click",function(){return false});f("a.no-click").on("click",function(){return false});f(".tb-search-trigger").on("click",function(){var v=f(".tb-floating-search");v.addClass("on");if(!q.hasClass("mobile")){v.find(".search-input").focus()}return false});f(".tb-floating-search .close-search").on("click",function(){f(this).closest(".tb-floating-search").removeClass("on");return false});f(".epic-thumb.gallery").on({mouseenter:function(){f(this).addClass("hover").find(".entry-header").stop().fadeOut(200)},mouseleave:function(){f(this).removeClass("hover").find(".entry-header").stop().fadeIn(200)}});if(f.isFunction(f.fn.owlCarousel)){f(".tb-gallery-carousel").each(function(){var v=f(this),w=v.find(".owl-carousel");w.owlCarousel({rtl:q.hasClass("rtl")?true:false,center:true,autoWidth:true,loop:true,dots:false,nav:false,margin:1,onInitialized:function(){v.find(".tb-loader").fadeOut(100)}});v.find(".tb-slider-arrows a").on("click",function(){if(f(this).hasClass("next")){w.trigger("next.owl.carousel")}else{w.trigger("prev.owl.carousel")}})})}l.on("load",function(){f(".tb-isotope").each(function(){var x=f(this),w="fitRows",v=true;if(x.hasClass("tb-masonry")){w="masonry"}if(q.hasClass("rtl")){v=false}x.find(".post-wrap > .row").fadeIn(400,function(){var y=x.find(".post-wrap > .row").isotope({layoutMode:w,itemSelector:".iso-item",filter:"*",isOriginLeft:v});x.find(".tb-loader").fadeOut(100);if(x.hasClass("tb-filter")){x.find(".tb-filter-nav").fadeIn(400);x.find(".filter-menu > li > a").on("click",function(){var A=f(this),z=A.data("filter");x.find(".filter-menu > li").removeClass("active");A.closest("li").addClass("active");y.isotope({filter:z});A.closest(".tb-filter").find(".grid-item").each(function(){var B=f(this);if(B.is(z)){B.find("a.lightbox-gallery-item").addClass("visible")}else{B.find("a.lightbox-gallery-item").removeClass("visible")}});return false})}})})});f(".tb-contact-trigger").popover({html:true,template:'<div class="tb-contact-popover popover" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',content:function(){return f(this).next(".contact-popover-content").html()}}).on("click",function(v){v.preventDefault()});f(".tb-contact-trigger").on("show.bs.popover",function(){var v=f(this);v.html('<i class="fa fa-'+v.data("close")+'"></i>')});f(".tb-contact-trigger").on("hide.bs.popover",function(){var v=f(this);v.html('<i class="fa fa-'+v.data("open")+'"></i>')});if(themeblvd.scroll_to_top=="true"){var j=f(".tb-scroll-to-top");l.on("scroll",function(){if(f(this).scrollTop()>400){j.fadeIn()}else{j.fadeOut()}});j.on("click",function(){f("html, body").animate({scrollTop:0},400);return false})}f(".tb-scroll-to").on("click",function(){var v=f(this),x=null,w=0;if(this.hash&&this.hash!="#"){x=this.hash}else{x="#"+v.closest(".element-section").next().attr("id")}w=f(x).offset().top;if(themeblvd.scroll_to_section_offset){w=w-parseInt(themeblvd.scroll_to_section_offset)}else{if(themeblvd.sticky!=="false"){w=w-parseInt(themeblvd.sticky_offset)}}f("html, body").animate({scrollTop:w},800);return false});f(".tb-share .btn-share.popup").on("click",function(){if(!window.open(f(this).attr("href"),"","height=320, width=640, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no")){document.location.href=f(this).attr("href")}return false});if(themeblvd.gallery=="true"){f(".gallery").each(function(){var v=f(this);v.addClass("themeblvd-gallery clearfix");v.find(".gallery-item a").each(function(){var w=this.href.split("?"),w=w[0],x="tb-thumb-link";if(themeblvd.gallery_thumb_frame=="true"){x+=" thumbnail"}if(w.match(/\.(jpe?g|png|bmp|gif|tiff?)$/i)){x+=" image";if(themeblvd.magnific_popup=="true"){x+=" lightbox-gallery-item mfp-image image-button visible"}}else{x+=" post"}f(this).addClass(x)})})}if(themeblvd.magnific_popup=="true"){var g=0,d="";if(themeblvd.lightbox_animation!="none"){g=160;d="themeblvd-mfp-"+themeblvd.lightbox_animation}f(".themeblvd-gallery").each(function(){f(this).find(".themeblvd-lightbox").each(function(){f(this).removeClass("themeblvd-lightbox").addClass("lightbox-gallery-item visible")});f(this).magnificPopup({disableOn:themeblvd.lightbox_mobile_gallery,delegate:"a.lightbox-gallery-item.visible",gallery:{enabled:true},image:{cursor:null,},iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>'},removalDelay:g,mainClass:d})});f(".themeblvd-lightbox").magnificPopup({disableOn:themeblvd.lightbox_mobile,removalDelay:g,mainClass:d,image:{cursor:null,}});f(".themeblvd-lightbox.lightbox-iframe, li.menu-item.video > a").magnificPopup({disableOn:themeblvd.lightbox_mobile_iframe,type:"iframe",removalDelay:g,mainClass:d});f.extend(true,f.magnificPopup.defaults,{tClose:themeblvd.lightbox_close,tLoading:themeblvd.lightbox_loading,gallery:{tPrev:themeblvd.lightbox_previous,tNext:themeblvd.lightbox_next,tCounter:themeblvd.lightbox_counter},image:{tError:themeblvd.lightbox_error},ajax:{tError:themeblvd.lightbox_error}})}f(".tb-jump-menu").change(function(){window.location.href=f(this).val()});f(".tb-block-slider").each(function(){var A=f(this),B=A.find(".slider-inner"),z=A.data("fx"),y=A.data("timeout"),D=true,v=A.data("nav"),C=false,w=false,x=false;if(q.hasClass("mobile")){z="slide"}if(y&&y!=="0"&&!q.hasClass("mobile")){y=y+"000"}else{D=false}if(v&&v!=="0"){v=true}else{v=false}if(!v){C=true}l.on("load",function(){B.flexslider({smoothHeight:w,animation:z,easing:"swing",slideshowSpeed:y,animationSpeed:"1000",slideshow:D,directionNav:false,controlNav:x,pauseOnHover:C,pauseOnAction:false,start:function(E){if(!q.hasClass("mobile")){A.find(".tb-slider-arrows").fadeIn(100)}A.find(".tb-loader").fadeOut(100)}})});if(v){B.on("mouseover",function(){B.data("flexslider").flexslider("pause")});A.find(".slider-inner > .tb-slider-arrows a").on("click",function(){if(f(this).hasClass("next")){B.data("flexslider").flexslider("next")}else{B.data("flexslider").flexslider("prev")}B.data("flexslider").flexslider("pause");return false})}});f(".tb-jumbotron-slider").each(function(){var v=f(this);v.on("slide.bs.carousel",function(x){var w=f(x.relatedTarget).find(".jumbotron-outer").outerHeight();v.animate({height:w},1000);if(!q.hasClass("mobile")){v.addClass("animate");setTimeout(function(){v.removeClass("animate")},1000)}});v.find(".tb-slider-arrows a, .carousel-indicators li").on("click",function(){v.carousel("pause")});l.on("load",function(){v.find(".carousel-control-wrap").fadeIn(200,function(){var w=v.find(".item.active .jumbotron-outer").outerHeight();v.animate({height:w});v.find(".tb-loader").fadeOut(100);o.bg_video_size(v.find(".tb-bg-video video, .tb-bg-video iframe"))})})});l.on("resize",function(){f(".tb-jumbotron-slider").each(function(){var w=f(this),v=w.find(".item.active .jumbotron-outer").outerHeight();w.css("height",v)})});var p=f(".tb-parallax .parallax-figure");l.on("load",function(){p.each(function(){var G=f(this),v=G.find("img, .img");if(l.width()>991&&l.height()>499){var y=v.height(),z=(G.height()>0)?G.height():500,C=y-z,w=G.offset().top+z,E=G.offset().top,D=l.scrollTop(),F=window.innerHeight,x=D+F,B=(x-E)/(z+F),A=Math.round((C*B));if((w>D)&&(E<(D+F))){v.css("transform","translate3D(-50%,"+A+"px, 0)")}}v.addClass("on")})});l.on("scroll resize",function(){if(l.width()<992||l.height()<500){return}p.each(function(){var G=f(this),v=G.find("img, .img"),y=v.height(),z=(G.height()>0)?G.height():500,C=y-z,w=G.offset().top+z,E=G.offset().top,D=l.scrollTop(),F=window.innerHeight,x=D+F,B=(x-E)/(z+F),A=Math.round((C*B));if((w>D)&&(E<(D+F))){v.css("transform","translate3D(-50%,"+A+"px, 0)")}})});if(themeblvd.custom_buttons=="true"){f(".tb-custom-button").hover(function(){var v=f(this);v.css({"background-color":v.data("bg-hover"),color:v.data("text-hover")})},function(){var v=f(this);v.css({"background-color":v.data("bg"),color:v.data("text")})})}if(typeof google==="object"&&typeof google.maps==="object"){f(".tb-map").each(function(){var w=f(this);var v=function(){var x=w.find(".map-canvas").attr("id"),z,C;z={center:new google.maps.LatLng(w.find(".map-center").data("lat"),w.find(".map-center").data("long")),zoom:w.data("zoom"),draggable:w.data("draggable"),panControl:w.data("pan_control"),zoomControl:w.data("zoom_control"),mapMaker:false,mapTypeControl:false,mapTypeId:google.maps.MapTypeId.ROADMAP,backgroundColor:"transparent",streetViewControl:false,scrollwheel:false};C=new google.maps.Map(document.getElementById(x),z);w.find(".map-marker").each(function(){var F=f(this),E=null;if(F.data("image")){E={url:F.data("image")};if(F.data("image-width")&&F.data("image-height")){E.scaledSize=new google.maps.Size(parseInt(F.data("image-width")),parseInt(F.data("image-height")))}}var D=new google.maps.Marker({position:new google.maps.LatLng(F.data("lat"),F.data("long")),map:C,title:F.data("name"),icon:E,animation:google.maps.Animation.DROP});var G=new google.maps.InfoWindow({content:'<div class="map-marker-info">'+F.find(".map-marker-info").html()+"</div>"});google.maps.event.addListener(D,"click",function(){G.open(C,D)})});var y=[],A=[],B;y.push({saturation:w.data("saturation")});y.push({lightness:w.data("lightness")});if(w.data("hue")){y.push({hue:w.data("hue")})}if(y.length){A=[{featureType:"all",elementType:"all",stylers:y}];B=new google.maps.StyledMapType(A,{name:"tb_map_style"});C.mapTypes.set("tb_map_style",B);C.setMapTypeId("tb_map_style")}};google.maps.event.addDomListener(window,"load",v)})}if(themeblvd.bootstrap=="true"){f("#calendar_wrap table").addClass("table table-bordered");f(".tabbable.fixed-height").each(function(){var v=0;f(this).find(".tab-pane").each(function(){var w=f(this).height();if(w>v){v=w}});f(this).find(".tab-pane").height(v)});f(".collapse").on("show.bs.collapse",function(){f(this).closest(".panel").find(".panel-heading a").addClass("active-trigger").find(".switch-me").removeClass("fa-plus-circle").addClass("fa-minus-circle")});f(".collapse").on("hide.bs.collapse",function(){f(this).closest(".panel").find(".panel-heading a").removeClass("active-trigger").find(".switch-me").removeClass("fa-minus-circle").addClass("fa-plus-circle")});var m;f(".tb-accordion").each(function(){m=f(this).attr("id");f(this).find(".panel-heading a").each(function(){f(this).attr("data-parent","#"+m)})});f(".tb-simple-slider .carousel-thumb-nav li").click(function(){var v=f(this);v.closest(".carousel-thumb-nav").find("li").removeClass("active");v.addClass("active")});f(".tb-simple-slider").on("slid.bs.carousel",function(){var v=f(this),w=v.data("bs.carousel"),x=w.getItemIndex(w.$element.find(".item.active"))+1;v.find(".carousel-thumb-nav li").removeClass("active");v.find(".carousel-thumb-nav li:nth-child("+x+")").addClass("active")});f(".tb-simple-slider .carousel-indicators").each(function(){var v=f(this),w=(14*v.find("li").length);v.css({width:w+"px","margin-left":"-"+(w/2)+"px"})});f(".tb-simple-slider").each(function(){var v=f(this);v.find(".tb-thumb-link, .carousel-indicators li, .carousel-control, .tb-slider-arrows > li > a").on("click",function(){v.carousel("pause")})});if(f.mobile){f('[data-ride="carousel"]').swiperight(function(){if(q.hasClass("rtl")){f(this).carousel("next")}else{f(this).carousel("prev")}});f('[data-ride="carousel"]').swipeleft(function(){if(q.hasClass("rtl")){f(this).carousel("prev")}else{f(this).carousel("next")}})}if(themeblvd.tabs_deep_linking=="true"){var a=document.location.hash;if(a&&a.indexOf("tab_")!=-1){f('.element-tabs a[href="'+a.replace("tab_","")+'"]').tab("show")}}f(".desktop .tb-tooltip").tooltip()}if(f.fn.easyPieChart!="undefined"){if(!q.hasClass("tb-scroll-effects")||q.hasClass("mobile")){f(".tb-milestone-percent").each(function(){var v=f(this).find(".chart");v.easyPieChart({lineWidth:6,size:160,animate:1000,barColor:v.data("color"),trackColor:v.data("track-color"),scaleColor:false,lineCap:"square",easing:"easeOutBounce"})})}}if(typeof Chart!=="undefined"){f(".tb-chart.pie, .tb-chart.doughnut").each(function(){var w=f(this),y="pie",v=w.find("canvas").get(0).getContext("2d"),z=[],x;if(w.hasClass("doughnut")){y="doughnut"}w.find(".data").each(function(){var A=f(this);z.push({value:A.data("value"),color:A.data("color"),highlight:A.data("highlight"),label:A.data("label")})});if(y=="doughnut"){x=new Chart(v).Doughnut(z,{showTooltips:w.data("tooltips")})}else{x=new Chart(v).Pie(z,{showTooltips:w.data("tooltips")})}if(w.data("legend")){w.append('<div class="legend">'+x.generateLegend()+"</div>")}if(q.hasClass("tb-scroll-effects")&&q.hasClass("desktop")){w.find(".chart-wrap").css("opacity","0").viewportChecker({classToAdd:"visible",offset:0,callbackFunction:function(A,B){A.css("opacity","1");x.render()}})}});f(".tb-chart.bar, .tb-chart.line").each(function(){var w=f(this),z="line",v=w.find("canvas").get(0).getContext("2d"),A=[],y=[],x;if(w.hasClass("bar")){z="bar"}w.find(".data").each(function(){var B=f(this);y.push({label:B.data("label"),fillColor:B.data("fill"),strokeColor:B.data("stroke"),pointColor:B.data("point"),data:B.data("values").split(",")})});A={labels:w.data("labels").split(","),datasets:y};if(z=="bar"){x=new Chart(v).Bar(A,{barShowStroke:false,scaleBeginAtZero:w.data("start"),showTooltips:w.data("tooltips")})}else{x=new Chart(v).Line(A,{bezierCurve:w.data("curve"),datasetFill:w.data("fill"),pointDot:w.data("dot"),scaleBeginAtZero:w.data("start"),showTooltips:w.data("tooltips")})}if(w.data("legend")){w.append('<div class="legend">'+x.generateLegend()+"</div>")}if(q.hasClass("tb-scroll-effects")&&q.hasClass("desktop")){w.find(".chart-wrap").css("opacity","0").viewportChecker({classToAdd:"visible",offset:0,callbackFunction:function(B,C){B.css("opacity","1");x.render()}})}})}if(q.hasClass("tb-scroll-effects")){f("#custom-main").find(".element-section, .element-section > .element").viewportChecker({classToAdd:"visible",offset:0})}f(".desktop.tb-scroll-effects .tb-milestone .milestone").each(function(){var w=f(this),v=parseInt(w.data("num"));w.viewportChecker({classToAdd:"visible",offset:0,callbackFunction:function(x,y){x.find(".num").countTo({from:0,to:v,speed:900,refreshInterval:30})}})});if(f.fn.easyPieChart!="undefined"){f(".desktop.tb-scroll-effects .tb-milestone-percent").each(function(){var v=f(this).find(".chart");v.css("opacity","0").viewportChecker({classToAdd:"visible",offset:0,callbackFunction:function(w,x){w.easyPieChart({lineWidth:6,size:160,animate:1000,barColor:v.data("color"),trackColor:v.data("track-color"),scaleColor:false,lineCap:"square",easing:"easeOutBounce",onStart:function(){v.css("opacity","1")}})}})})}f(".desktop.tb-scroll-effects .tb-progress .progress-bar").each(function(){f(this).viewportChecker({classToAdd:"visible",offset:0,callbackFunction:function(v,w){v.animate({width:v.data("percent")+"%"},400)}})});f(".tb-bg-video.html5").each(function(){var v=f(this);v.find("video").mediaelementplayer({startVolume:0,loop:false,enableKeyboard:false,pauseOtherPlayers:false,success:function(w){w.addEventListener("canplay",function(){w.play();o.bg_video_size(v.find("video"));v.addClass("playing")},false)}});l.on("resize",function(){o.bg_video_size(v.find("video"))})});if(f(".tb-bg-video.youtube").length){f.getScript("https://www.youtube.com/iframe_api",function(){if(typeof YT==="object"){e=setInterval(function(){if(typeof YT==="object"){o.yt_init();clearInterval(e)}},500)}})}if(typeof Froogaloop!=="undefined"){f(".tb-bg-video.vimeo").each(function(){var w=f(this),x=w.find("iframe"),v=$f(x[0]);v.addEvent("ready",function(){o.bg_video_size(x);l.on("resize",function(){o.bg_video_size(x)});v.addEvent("play",function(y){w.addClass("playing")});v.api("play");v.api("setVolume",0)})})}});(function(a){a.fn.viewportChecker=function(b){var d={classToAdd:"visible",offset:100,repeat:false,callbackFunction:function(g,h){}};a.extend(d,b);var c=this,f=a(window).height(),e=((navigator.userAgent.toLowerCase().indexOf("webkit")!=-1)?"body":"html");this.checkElements=function(){var g=a(e).scrollTop(),h=(g+f);c.each(function(){var k=a(this);if(k.hasClass(d.classToAdd)&&!d.repeat){return}var i=Math.round(k.offset().top)+d.offset,j=i+(k.height());if((i<h)&&(j>g)){k.addClass(d.classToAdd);d.callbackFunction(k,"add")}else{if(k.hasClass(d.classToAdd)&&(d.repeat)){k.removeClass(d.classToAdd);d.callbackFunction(k,"remove")}}})};a(window).bind("load scroll touchmove",this.checkElements);a(window).on("resize",function(g){f=g.currentTarget.innerHeight});return this}})(jQuery);(function(b){b.fn.countTo=function(c){c=c||{};return b(this).each(function(){var e=b.extend({},b.fn.countTo.defaults,{from:b(this).data("from"),to:b(this).data("to"),speed:b(this).data("speed"),refreshInterval:b(this).data("refresh-interval"),decimals:b(this).data("decimals")},c);var j=Math.ceil(e.speed/e.refreshInterval),k=(e.to-e.from)/j;var l=this,h=b(this),g=0,i=e.from,f=h.data("countTo")||{};h.data("countTo",f);if(f.interval){clearInterval(f.interval)}f.interval=setInterval(m,e.refreshInterval);d(i);function m(){i+=k;g++;d(i);if(typeof(e.onUpdate)=="function"){e.onUpdate.call(l,i)}if(g>=j){h.removeData("countTo");clearInterval(f.interval);i=e.to;if(typeof(e.onComplete)=="function"){e.onComplete.call(l,i)}}}function d(o){var n=e.formatter.call(l,o,e);h.text(n)}})};b.fn.countTo.defaults={from:0,to:0,speed:1000,refreshInterval:100,decimals:0,formatter:a,onUpdate:null,onComplete:null};function a(d,c){return d.toFixed(c.decimals)}}(jQuery));(function(a){a.fn.toggleMenu=function(b){var c=a.extend({viewport:768,openClass:"mobile-open",closedClass:"mobile-closed"},b);this.each(function(){var e=a(this),d,g,f=false;if(e.data("toggle")){d=a(e.data("toggle"))}else{d=a(e.attr("href"))}e.click(function(){if(d.hasClass(c.openClass)){d.slideUp().removeClass(c.openClass).addClass(c.closedClass)}else{d.slideDown().removeClass(c.closedClass).addClass(c.openClass)}return false});a(window).on("resize",function(){if(false!==f){clearTimeout(f)}f=setTimeout(function(){g=a(window).width();if(g>c.viewport){d.show().removeClass(c.openClass+" "+c.closedClass).addClass("expanded")}else{if(d.hasClass("expanded")){d.hide().removeClass("expanded")}}},100)})})}})(jQuery);