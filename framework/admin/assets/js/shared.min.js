!function(e){var t={init:function(){var t=this;t.off("click.tb-widget"),t.on("click.tb-widget",".widget-name-arrow, .block-widget-name-arrow",function(){var t=e(this),i="widget",n=!1;return t.hasClass("block-widget-name-arrow")&&(i="block-widget"),t.closest("."+i+"-name").hasClass(i+"-name-closed")&&(n=!0),n?(t.closest("."+i).find("."+i+"-content").show(),t.closest("."+i).find("."+i+"-name").removeClass(i+"-name-closed"),t.closest("."+i).find(".section-code").each(function(){var t=e(this).find("textarea").data("CodeMirrorInstance");t&&t.refresh()})):(t.closest("."+i).find("."+i+"-content").hide(),t.closest("."+i).find("."+i+"-name").addClass(i+"-name-closed")),!1}),t.on("click",".tooltip-link",function(){var t=e(this).attr("title");return tbc_confirm(t,{textOk:"Ok"}),!1}),t.on("click",".delete-me",function(){var t=e(this).attr("href");return tbc_confirm(e(this).attr("title"),{confirm:!0},function(i){i&&e(t).remove()}),!1}),t.find(".tb-fancy-select").each(function(){var t=e(this),i=t.find("select").val(),n=t.find('option[value="'+i+'"]').text();t.find(".textbox").text(n)})},options:function(t){return this.each(function(){var i=e(this);if("setup"==t)i.find(".tb-fancy-select").each(function(){var t=e(this),i=t.find("select").val(),n=t.find('option[value="'+i+'"]').text();t.find(".textbox").text(n)}),i.find(".custom-content-types").each(function(){var t=e(this),i=t.find("select").val(),n=t.closest(".subgroup");"external"==i?n.find(".page-content").show():"raw"==i?n.find(".raw-content").show():"widget_area"==i&&n.find(".widget_area-content").show()}),i.find(".tabs").each(function(){var t=e(this),i=1,n=t.find(".tabs-num").val();for(t.find(".tab-names .tab-name").hide(),t.find(".section-content").hide();n>=i;)t.find(".tab-names .tab-name-"+i).show(),t.find("#section-tab_"+i).show(),i++}),i.find(".section-content").each(function(){var t=e(this),i=t.find(".column-content-types select.select-type").val();t.find(".column-content-type").hide(),t.find(".column-content-type-"+i).show()}),i.find(".columns").each(function(){var t,i=e(this),n=i.find(".select-col-num").val();for(n>1?(i.find(".select-wrap-grid").show(),i.find(".section-column_widths").show(),i.closest(".widget-content").find(".column-height").show()):(i.find(".select-wrap-grid").hide(),i.find(".section-column_widths").hide(),i.closest(".widget-content").find(".column-height").hide()),i.find(".section-content").hide(),t=1;n>=t;t++)i.find(".col_"+t).show()}),i.find(".show-hide").each(function(){var t=e(this),i=t.children(".trigger").find("input");i.is(":checked")?t.children(".receiver").show():t.find(".receiver").each(function(){e(this).find("input, textarea, select").prop("disabled",!0)})}),i.find(".hide-show").each(function(){var t=e(this),i=t.children(".trigger").find("input");i.is(":checked")?t.children(".receiver").hide():t.find(".receiver").each(function(){e(this).find("input, textarea, select").prop("disabled",!0)})}),i.find(".show-hide-toggle").each(function(){var t=e(this),i=t.children(".trigger"),n="";n=i.hasClass("section-radio")?i.find(".of-radio:checked").val():i.find(".of-input").val(),t.children(".receiver").each(function(){e(this).hide().find("input, textarea, select").prop("disabled",!0)}),t.children(".receiver-"+n).each(function(){e(this).show().find("input, textarea, select").prop("disabled",!1)})}),i.find(".desc-toggle").each(function(){var t=e(this),i=t.children(".trigger").find(".of-input").val();t.find(".desc-receiver .explain").hide(),t.find(".desc-receiver .explain."+i).show()}),i.find(".section-logo").each(function(){var t=e(this),i=t.find(".select-type select").val();t.find(".logo-item").hide(),t.find("."+i).show()}),i.find(".section-typography .of-typography-face").each(function(){var t=e(this),i=t.val();"google"==i?t.closest(".section-typography").find(".google-font").fadeIn("fast"):t.closest(".section-typography").find(".google-font").hide()}),i.find("#section-homepage_content").each(function(){var t=e(this).find("input:checked").val();"custom_layout"!=t&&i.find("#section-homepage_custom_layout").hide()}),i.find(".of-radio-img-img").click(function(){e(this).parent().parent().find(".of-radio-img-img").removeClass("of-radio-img-selected"),e(this).addClass("of-radio-img-selected")}),i.find(".of-radio-img-label").hide(),i.find(".of-radio-img-img").show(),i.find(".of-radio-img-radio").hide(),i.find(".match-trigger .of-input").each(function(){var t=e(this);t.closest(".subgroup").find(".match .of-input").val(t.val())}),i.find(".select-parallax").each(function(){var t=e(this),i=t.find(".of-background-attachment").val();"parallax"==i?(t.find(".of-background-position").closest(".tb-fancy-select").hide(),t.find(".of-background-size").closest(".tb-fancy-select").hide(),t.find(".parallax").show()):(t.find(".of-background-position").closest(".tb-fancy-select").show(),t.find(".parallax").hide())}),i.find(".of-background-properties").each(function(){var t=e(this);val=t.find(".of-background-repeat").val(),"no-repeat"==val?t.find(".of-background-size").closest(".tb-fancy-select").show():t.find(".of-background-size").closest(".tb-fancy-select").hide()}),e.isFunction(e.fn.slider)&&i.find(".jquery-ui-slider").each(function(){var t=e(this),i=t.closest(".jquery-ui-slider-wrap").find(".slider-input"),n=t.data("units");t.slider({min:t.data("min"),max:t.data("max"),step:t.data("step"),value:parseInt(i.val()),create:function(){t.find(".ui-slider-handle").append('<span class="display-value"><span class="display-value-text"></span><span class="display-value-arrow"></span></span>');var e=t.find(".display-value");e.css("margin-left","-"+e.outerWidth()/2+"px"),e.find(".display-value-text").text(i.val())},slide:function(e,o){i.val(o.value+n),t.find(".display-value-text").text(o.value+n)}})}),e.isFunction(e.fn.wpColorPicker)&&i.find(".tb-color-picker").wpColorPicker(),e.isFunction(e.fn.wpColorPicker)&&i.find(".section-button").each(function(){var t=e(this);t.find(".color-picker").wpColorPicker(),t.find(".color.bg .wp-color-result").attr("title","Background Color"),t.find(".color.bg_hover .wp-color-result").attr("title","Background Hover Color"),t.find(".color.border .wp-color-result").attr("title","Border Color"),t.find(".color.text .wp-color-result").attr("title","Text Color"),t.find(".color.text_hover .wp-color-result").attr("title","Text Hover Color"),t.find(".include.bg input").is(":checked")&&t.find(".color.bg").show(),t.find(".include.border input").is(":checked")&&t.find(".color.border").show()}),e("body").hasClass("mobile")||i.find(".tb-tooltip-link").click(function(){e(".themeblvd-tooltip").remove();var t=e(this),i=t.data("tooltip-toggle");2==i?t.data("tooltip-toggle",1):t.data("tooltip-toggle",2)}),e.isFunction(e.fn.ThemeBlvdModal)&&i.find(".tb-input-icon-link").ThemeBlvdModal({build:!1,padding:!0,size:"custom",on_display:function(){var e=this,t=e.$elem,i=e.$modal_window,n=t.closest(".input-wrap").find("input").val();i.find(".media-frame-content").scrollTop(0),i.find(".select-icon").removeClass("selected"),i.find(".media-toolbar-secondary").find(".fa, span, img").remove(),i.find('[data-icon="'+n+'"]').length>0&&(i.find('[data-icon="'+n+'"]').addClass("selected"),i.find(".icon-selection").val(n),i.find(".media-toolbar-secondary").append('<i class="fa fa-'+n+' fa-2x fa-fw"></i><span>'+n+"</span>"))},on_save:function(){var e=this,t=e.$modal_window.find(".icon-selection").val();e.$elem.closest(".input-wrap").find("input").val(t)}}),e.isFunction(e.fn.ThemeBlvdModal)&&i.find(".tb-input-post-id-link").ThemeBlvdModal({build:!1,padding:!0,button:"",size:"custom",on_display:function(){var t=this,i=t.$elem,n=t.$modal_window;n.find("#search-submit").off("click.tb-search-posts"),n.find("#search-submit").on("click.tb-search-posts",function(){var t=e(this).closest(".post-browser-head"),i={action:"themeblvd_post_browser",data:t.find("#post-search-input").val()};return t.find(".tb-loader").fadeIn(200),e.post(ajaxurl,i,function(e){n.find(".ajax-mitt").html("").append(e),t.find(".tb-loader").fadeOut(200)}),!1}),n.off("click.tb-select-post",".select-post"),n.on("click.tb-select-post",".select-post",function(){return n.find("#post-search-input").val(""),n.find(".ajax-mitt").html(""),i.closest(".input-wrap").find(".of-input").val(e(this).data("post-id")),t.close(),!1})},on_cancel:function(){$browser=this.$modal_window,$browser.find("#post-search-input").val(""),$browser.find(".ajax-mitt").html("")}}),e.isFunction(e.fn.ThemeBlvdModal)&&i.find(".tb-texture-browser-link").ThemeBlvdModal({build:!1,padding:!0,size:"custom",on_display:function(){var t=this,i=t.$elem,n=t.$modal_window,o=i.closest(".controls").find(".of-input").val();n.find(".media-frame-content").scrollTop(0),n.find(".select-texture").each(function(){$a=e(this),$a.removeClass("selected"),$a.data("texture")==o&&($a.addClass("selected"),n.find(".texture-selection").val($a.data("texture")),n.find(".current-texture").text($a.data("texture-name")))})},on_save:function(){var e=this,t=e.$elem.closest(".controls").find(".of-input"),i=e.$modal_window.find(".texture-selection").val();t.val(i),t.closest(".tb-fancy-select").find(".textbox").text(t.find('option[value="'+i+'"]').text())}}),i.find("#tb-footer-sync").is(":checked")?(i.find(".standard-footer-setup").hide(),i.find(".footer-template-setup").show()):(i.find(".standard-footer-setup").show(),i.find(".footer-template-setup").hide()),i.find("#tb-footer-sync").on("click",function(){e(this).is(":checked")?(i.find(".standard-footer-setup").hide(),i.find(".footer-template-setup").show()):(i.find(".standard-footer-setup").show(),i.find(".footer-template-setup").hide())});else if("bind"==t)i.on("change",".tb-fancy-select select",function(){var t=e(this),i=t.val(),n=t.find('option[value="'+i+'"]').text();t.closest(".tb-fancy-select").find(".textbox").text(n)}),i.on("change",".custom-content-types select",function(){var t=e(this),i=t.val(),n=t.closest(".subgroup");"current"==i?(n.find(".page-content").fadeOut("fast"),n.find(".raw-content").fadeOut("fast"),n.find(".widget_area-content").fadeOut("fast")):"external"==i?(n.find(".page-content").fadeIn("fast"),n.find(".raw-content").hide(),n.find(".widget_area-content").hide()):"raw"==i?(n.find(".raw-content").fadeIn("fast"),n.find(".page-content").hide(),n.find(".widget_area-content").hide()):"widget_area"==i&&(n.find(".widget_area-content").fadeIn("fast"),n.find(".raw-content").hide(),n.find(".page-content").hide())}),i.on("change",".tabs .tabs-num",function(){var t=e(this),i=1,n=t.val(),o=t.closest(".tabs");for(o.find(".tab-names .tab-name").hide(),o.find(".section-content").hide();n>=i;)o.find(".tab-names .tab-name-"+i).show(),o.find("#section-tab_"+i).show(),i++}),i.on("change",".column-content-types select.select-type",function(){var t=e(this).closest(".section-content"),i=e(this).val();t.find(".column-content-type").hide(),t.find(".column-content-type-"+i).show()}),i.on("change",".select-col-num",function(){var t,i=e(this),n=i.val(),o=i.closest(".columns");for(n>1?(o.find(".select-wrap-grid").show(),o.find(".section-column_widths").show(),o.closest(".widget-content").find(".column-height").show()):(o.find(".select-wrap-grid").hide(),o.find(".section-column_widths").hide(),o.closest(".widget-content").find(".column-height").hide()),o.find(".section-content").hide(),t=1;n>=t;t++)o.find(".col_"+t).show()}),i.on("click",".show-hide > .trigger input",function(){var t=e(this);t.is(":checked")?(t.closest(".show-hide").find(".receiver").each(function(){e(this).find("input, textarea, select").prop("disabled",!1)}),t.closest(".show-hide").children(".receiver").fadeIn("fast")):(t.closest(".show-hide").find(".receiver").each(function(){e(this).find("input, textarea, select").prop("disabled",!0)}),t.closest(".show-hide").children(".receiver").hide())}),i.on("click",".hide-show > .trigger input",function(){var t=e(this);t.is(":checked")?(t.closest(".hide-show").find(".receiver").each(function(){e(this).find("input, textarea, select").prop("disabled",!0)}),t.closest(".hide-show").children(".receiver").hide()):(t.closest(".hide-show").find(".receiver").each(function(){e(this).find("input, textarea, select").prop("disabled",!1)}),t.closest(".hide-show").children(".receiver").fadeIn("fast"))}),i.on("change",".show-hide-toggle > .trigger select.of-input",function(){var t=e(this),i=t.val(),n=t.closest(".show-hide-toggle");n.children(".receiver").each(function(){e(this).hide().find("input, textarea, select").prop("disabled",!0)}),n.children(".receiver-"+i).each(function(){e(this).show().find("input, textarea, select").prop("disabled",!1)})}),i.on("click",".show-hide-toggle > .trigger .of-radio",function(){var t=e(this),i=t.val(),n=t.closest(".show-hide-toggle");n.children(".receiver").each(function(){e(this).hide().find("input, textarea, select").prop("disabled",!0)}),n.children(".receiver-"+i).each(function(){e(this).show().find("input, textarea, select").prop("disabled",!1)})}),i.on("change",".desc-toggle > .trigger .of-input",function(){var t=e(this),i=t.val(),n=t.closest(".desc-toggle");n.find(".desc-receiver .explain").hide(),n.find(".desc-receiver .explain."+i).show()}),i.on("change",".section-logo .select-type select",function(){var t=e(this),i=t.closest(".section-logo"),n=t.val();i.find(".logo-item").hide(),i.find("."+n).show()}),i.on("change",".section-typography .of-typography-face",function(){var t=e(this),i=t.val();"google"==i?t.closest(".section-typography").find(".google-font").fadeIn("fast"):t.closest(".section-typography").find(".google-font").hide()}),i.on("change","#section-homepage_content input:checked",function(){"custom_layout"==e(this).val()?i.find("#section-homepage_custom_layout").fadeIn("fast"):i.find("#section-homepage_custom_layout").fadeOut("fast")}),i.on("change",".match-trigger .of-input",function(){var t=e(this);t.closest(".subgroup").find(".match .of-input").val(t.val())}),i.on("click",".select-categories input",function(){var t=e(this),i=t.closest(".controls");t.prop("checked")&&(t.hasClass("all")?i.find("input").each(function(){e(this).hasClass("all")||e(this).prop("checked",!1)}):i.find("input.all").prop("checked",!1))}),i.on("change",".select-parallax .of-background-attachment",function(){var t=e(this).closest(".select-parallax");"parallax"==e(this).val()?(t.find(".of-background-position").closest(".tb-fancy-select").hide(),t.find(".parallax").show()):(t.find(".of-background-position").closest(".tb-fancy-select").show(),t.find(".parallax").hide())}),i.on("change",".of-background-properties .of-background-repeat",function(){var t=e(this).closest(".of-background-properties");"no-repeat"==e(this).val()?t.find(".of-background-size").closest(".tb-fancy-select").show():t.find(".of-background-size").closest(".tb-fancy-select").hide()}),e.isFunction(e.fn.ThemeBlvdModal)&&i.find(".tb-modal-link").ThemeBlvdModal(),e("body").hasClass("mobile")||(i.on("mouseenter",".tb-tooltip-link",function(){var t=e(this),i=t.data("tooltip-position"),n=t.offset().left,o=t.offset().top,a=t.data("tooltip-text"),d='<div class="themeblvd-tooltip %position%"> 											   <div class="tooltip-inner"> 											     %text% 											   </div> 											   <div class="tooltip-arrow"></div> 											</div>';!a&&t.data("tooltip-toggle")&&(a=t.data("tooltip-text-"+t.data("tooltip-toggle"))),a||(a=t.attr("title")),i||(i="top"),d=d.replace("%position%",i),d=d.replace("%text%",a),e("body").append(d);var s=e(".themeblvd-tooltip"),l=s.outerHeight(),c=s.outerWidth();switch(i){case"left":n=n-c-5,o+=.5*t.outerHeight(),o-=l/2;break;case"right":n=n+t.outerWidth()+5,o+=.5*t.outerHeight(),o-=l/2;break;case"bottom":n+=.5*t.outerWidth(),n-=c/2,o=o+t.outerHeight()+2;break;case"top":default:n+=.5*t.outerWidth(),n-=c/2,o=o-l-2}s.css({top:o+"px",left:n+"px"}).addClass("fade in")}),i.on("mouseleave",".tb-tooltip-link",function(){e(".themeblvd-tooltip").remove()})),i.on("click",".section-button .include input",function(){var t=e(this),i="bg";t.closest(".include").hasClass("border")&&(i="border"),t.is(":checked")?t.closest(".section-button").find(".color."+i).show():t.closest(".section-button").find(".color."+i).hide()}),"object"==typeof google&&"object"==typeof google.maps&&i.on("click",".section-geo .geo-insert-lat-long",function(){var t=e(this),i=t.closest(".geo-generate").find(".overlay"),n=new google.maps.Geocoder,o=t.prev(".address").val(),a="0",d="0";return i.fadeIn(100),n.geocode({address:o},function(e,n){n==google.maps.GeocoderStatus.OK&&(a=e[0].geometry.location.lat(),d=e[0].geometry.location.lng()),setTimeout(function(){t.closest(".controls").find(".geo-lat .geo-input").val(a),t.closest(".controls").find(".geo-long .geo-input").val(d),n!=google.maps.GeocoderStatus.OK?tbc_confirm(t.data("oops"),{textOk:"Ok"}):t.prev(".address").val(""),i.fadeOut(100)},1500)}),!1});else if("media-uploader"==t)"undefined"!=typeof wp&&"undefined"!=typeof wp.media&&themeblvd_media_uploader.init(i);else if("editor"==t)e.isFunction(e.fn.ThemeBlvdModal)&&i.find(".tb-textarea-editor-link").ThemeBlvdModal({build:!1,padding:!0,height:"auto",on_load:function(){wpActiveEditor="themeblvd_editor";var e,t,i,n=this,o="themeblvd_editor",a="",d="undefined"!=typeof tinymce,s=n.$modal_window;n.$elem.is(".tb-block-editor-link")?(i=n.$elem.closest(".block").data("field-name"),t=n.$elem.closest(".block").find('textarea[name="'+i+'[content]"]')):t=n.$elem.closest(".textarea-wrap").find("textarea"),a=t.val(),s.find(".wp-editor-area, iframe").height(300),s.find(".wp-editor-wrap").is(".tmce-active")?(d&&(e=tinymce.get(o)),e&&(a=window.switchEditors.wpautop(a),e.setContent(a,{format:"raw"}))):s.find("textarea").val(a),t.css("overflow","hidden")},on_save:function(){wpActiveEditor="content";var e,t,i,n,o=this,a="themeblvd_editor",d="undefined"!=typeof tinymce,s=o.$modal_window;o.$elem.is(".tb-block-editor-link")?(i=o.$elem.closest(".block").data("field-name"),n=o.$elem.closest(".block").find('textarea[name="'+i+'[content]"]')):n=o.$elem.closest(".textarea-wrap").find("textarea"),s.find(".wp-editor-wrap").is(".tmce-active")?(d&&(e=tinymce.get(a)),e&&(t=e.getContent(),t=window.switchEditors.pre_wpautop(t))):t=s.find(".wp-editor-area").val(),n.val(t),n.css("overflow","visible")},on_cancel:function(){wpActiveEditor="content",this.$elem.closest(".textarea-wrap").find("textarea").css("overflow","visible")}});else if("code-editor"==t&&"undefined"!=typeof CodeMirror)e.isFunction(e.fn.ThemeBlvdModal)&&i.find(".tb-textarea-code-link").ThemeBlvdModal({code_editor:!0,size:"medium",height:"auto"}),i.find(".section-code").each(function(){var t,i,n=e(this),o=n.find("textarea"),a=o.data("code-lang");i=o.data("CodeMirrorInstance"),i||(t="html"==a?{name:"htmlmixed",scriptTypes:[{matches:/\/x-handlebars-template|\/x-mustache/i,mode:null},{matches:/(text|application)\/(x-)?vb(a|script)/i,mode:"vbscript"}]}:a,i=CodeMirror.fromTextArea(document.getElementById(o.attr("id")),{mode:t,lineNumbers:!0,theme:"themeblvd",indentUnit:4,tabSize:4,indentWithTabs:!0}),i.on("blur",function(){o.val(i.getValue())}),o.data("CodeMirrorInstance",i))});else if("column-widths"==t)themeblvd_column_widths.init(i);else if("sortable"==t){var n=function(t){t.find(".delete-sortable-item").off("click"),t.find(".delete-sortable-item").on("click",function(){var t=e(this),i=t.closest(".section-sortable"),n=t.closest(".item"),o=t.closest(".tb-sortable-option").data("max");return tbc_confirm(t.attr("title"),{confirm:!0},function(e){e&&(n.addClass("delete"),window.setTimeout(function(){n.remove(),i.find(".item-container .item").length||i.find(".delete-sortable-items").fadeOut(200),o>0&&i.find(".item-container > .item").length<o&&i.find(".add-item").prop("disabled",!1)},500))}),!1}),t.find(".toggle").off("click"),t.find(".toggle").on("click",function(){var t=e(this);return t.closest(".item-handle").hasClass("closed")?(t.closest(".item-handle").removeClass("closed"),t.closest(".item").find(".item-content").show()):(t.closest(".item-handle").addClass("closed"),t.closest(".item").find(".item-content").hide()),!1}),t.find(".item-handle h3").each(function(){var t=e(this),i=t.closest(".item").find(".handle-trigger");t.closest(".item").find(".item-handle h3").text(i.is("select")?i.find('option[value="'+i.val()+'"]').text():i.val())}),t.find(".handle-trigger").off("change"),t.find(".handle-trigger").on("change",function(){var t=e(this);t.closest(".item").find(".item-handle h3").text(t.is("select")?t.find('option[value="'+t.val()+'"]').text():t.val())})};i.find(".tb-sortable-option").each(function(){var t=e(this),i=t.closest(".section-sortable"),o=t.data("max");i.find(".item").each(function(){n(e(this))}),t.find(".item-container .item").length&&t.find(".delete-sortable-items").show(),i.find(".item-container").sortable({handle:".item-handle"}),i.find(".add-item").off("click"),i.find(".add-item").on("click",function(){var a,d=e(this),s={action:"themeblvd_add_"+t.data("type")+"_item",security:t.data("security"),data:{option_name:t.data("name"),option_id:t.data("id")}};return e.post(ajaxurl,s,function(e){i.find(".item-container").append(e),a=i.find(".item").last(),a.addClass("add"),window.setTimeout(function(){a.removeClass("add")},500),i.find(".delete-sortable-items").fadeIn(200),n(a),a.themeblvd("options","setup"),a.themeblvd("options","editor"),a.themeblvd("options","code-editor"),a.themeblvd("options","media-uploader"),o>0&&t.find(".item-container > .item").length>=o&&d.prop("disabled",!0)}),!1}),i.find(".delete-sortable-items").off("click"),i.find(".delete-sortable-items").on("click",function(){var t=e(this),i=t.closest(".tb-sortable-option"),n=i.find(".item");return tbc_confirm(t.attr("title"),{confirm:!0},function(e){e&&(n.addClass("delete"),window.setTimeout(function(){n.remove(),i.find(".delete-sortable-items").fadeOut(200),i.find(".add-item").prop("disabled",!1)},500))}),!1})})}})},widgets:function(){return this.each(function(){var t=e(this);t.find(".widget-content").hide(),t.find(".widget-name").addClass("widget-name-closed"),t.find(".block-content").hide(),t.find(".block-handle").addClass("block-handle-closed")})},accordion:function(){return this.each(function(){var t=e(this);t.find(".element-content").hide(),t.find(".element-content:first").show(),t.find(".element-trigger:first").addClass("active"),t.find(".element-trigger").click(function(){var i=e(this);return i.hasClass("active")||(t.find(".element-content").hide(),t.find(".element-trigger").removeClass("active"),i.addClass("active"),i.next(".element-content").show()),!1})})}};e.fn.themeblvd=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist."):t.init.apply(this,arguments)}}(jQuery),function(e){themeblvd_media_uploader={media_frame:[],init:function(t){var i=this;t.find(".upload-button").off("click"),t.find(".remove-image, .remove-file").off("click"),t.find(".add-images").off("click"),t.find(".upload-button").on("click",function(t){t.preventDefault(),i.add_file(e(this).closest(".section-upload, .section-media"))}),t.find(".remove-image, .remove-file").on("click",function(t){t.preventDefault(),i.remove_file(e(this).closest(".section-upload, .section-media"))}),t.find(".add-images").on("click",function(t){t.preventDefault(),i.add_images(e(this),e(this).closest(".section-sortable"))})},add_file:function(t){var i=this,n=t.find("input.upload").attr("id");if(i.media_frame[n])return void i.media_frame[n].open();var o,a=t.find(".trigger").data("type"),d=t.find(".trigger").data("title"),s=t.find(".trigger").data("select"),l=t.find(".trigger").data("class"),c=t.find(".trigger").data("send-back"),r=t.find(".trigger").data("link"),f="image",u="select",h=!1,p="library";"video"==a&&(f="video"),"media"==a&&(f="",h=!0),"advanced"==a&&(p="themeblvd_advanced"),o=i.media_frame[n]=wp.media.frames.file_frame=wp.media({frame:u,state:p,className:"media-frame "+l,title:d,library:{type:f},button:{text:s},multiple:h}),"advanced"==a&&o.states.add([new wp.media.controller.Library({id:"themeblvd_advanced",title:d,priority:20,toolbar:"select",filterable:"uploaded",library:wp.media.query(o.options.library),multiple:!1,editable:!0,displayUserSettings:!1,displaySettings:!0,allowLocalEdits:!0})]),o.on("select",function(){var i,n,d,s,l,f=o.state().get("selection").first(),u=t.find(".trigger").data("remove");"advanced"==a?(i=o.$el.find('.attachment-display-settings select[name="size"]').val(),n=f.attributes.sizes[i].url):n=f.attributes.url,t.find(".image-url").val("id"==c?f.attributes.id:n),"image"==f.attributes.type&&t.find(".screenshot").empty().hide().append('<img src="'+n+'"><a class="remove-image"></a>').slideDown("fast"),"logo"==a&&(t.find(".image-width").val(f.attributes.width),t.find(".image-height").val(f.attributes.height)),"video"==a&&t.find(".video-url").val(f.attributes.url),"slider"==a&&(t.find(".image-id").val(f.attributes.id),t.find(".image-title").val(f.attributes.title),l=t.find(".image-title").val(),l&&t.closest(".widget").find(".slide-summary").text(l).fadeIn(200)),"video"!=a&&"media"!=a&&(t.find(".upload-button").unbind().addClass("remove-file").removeClass("upload-button").val(u),t.find(".of-background-properties").slideDown(),t.find(".remove-image, .remove-file").click(function(){themeblvd_media_uploader.remove_file(e(this).closest(".section-upload"))})),"advanced"==a&&(t.find(".image-id").val(f.attributes.id),t.find(".image-title").val(f.attributes.title),t.find(".image-crop").val(i),r&&(d=o.$el.find(".attachment-display-settings .link-to").val(),"none"!=d&&(s=o.$el.find(".attachment-display-settings .link-to-custom").val(),console.log(s),t.closest(".advanced-image-upload").find(".receive-link-url input").val(s))))}),o.open(),"advanced"==a&&(o.$el.addClass("hide-menu"),o.$el.find(".attachment-display-settings label:first-of-type").remove(),r||(console.log("hiding link options..."),console.log(o.$el.find(".attachment-display-settings div.setting")),o.$el.find(".attachment-display-settings div.setting").remove()))},remove_file:function(t){var i=this,n=t.find(".trigger").data("upload"),o=t.find(".trigger").data("type");"slider"==o&&t.closest(".widget").find(".slide-summary").removeClass("image video").hide().text(""),t.find(".remove-image").hide(),t.find(".upload").val(""),t.find(".of-background-properties").hide(),t.find(".screenshot").slideUp(),t.find(".remove-file").addClass("upload-button").removeClass("remove-file").val(n),t.find(".upload-button").click(function(t){t.preventDefault(),i.add_file(e(this).closest(".section-upload"))})},add_images:function(t,i){var n=this,o=t.attr("id");if(n.media_frame[o])return void n.media_frame[o].open();var a=n.media_frame[o]=wp.media.frames.file_frame=wp.media({frame:"select",className:"media-frame tb-modal-hide-settings",title:t.data("title"),library:{type:"image"},button:{text:t.data("button")},multiple:"add"});a.on("select update insert",function(t){var n,o,d,s=a.state(),l=0,c=[],r=i.find(".tb-sortable-option");n="undefined"!=typeof t?t:s.get("selection"),n.map(function(e){o=e.toJSON(),c[l]={id:o.id,title:o.title},c[l].preview=o.sizes.tb_thumb?o.sizes.tb_thumb.url:o.sizes.full.url,l++}),d={action:"themeblvd_add_"+r.data("type")+"_item",security:r.data("security"),data:{option_name:r.data("name"),option_id:r.data("id"),items:c}},e.post(ajaxurl,d,function(t){i.find(".item-container").append(t);var n=i.find(".item-container .item").slice(-c.length);n.addClass("add"),window.setTimeout(function(){n.removeClass("add")},500),i.find(".delete-sortable-items").fadeIn(200),n.find(".delete-sortable-item").on("click",function(){var t=e(this),i=t.closest(".section-sortable"),n=t.closest(".item");return tbc_confirm(t.attr("title"),{confirm:!0},function(e){e&&(n.addClass("delete"),window.setTimeout(function(){n.remove(),i.find(".item-container .item").length||i.find(".delete-sortable-items").fadeOut(200)},500))}),!1}),n.find(".toggle").on("click",function(){var t=e(this);return t.closest(".item-handle").hasClass("closed")?(t.closest(".item-handle").removeClass("closed"),t.closest(".item").find(".item-content").show()):(t.closest(".item-handle").addClass("closed"),t.closest(".item").find(".item-content").hide()),!1}),n.find(".item-handle h3").each(function(){var t=e(this),i=t.closest(".item").find(".handle-trigger");t.closest(".item").find(".item-handle h3").text(i.is("select")?i.find('option[value="'+i.val()+'"]').text():i.val())}),n.find(".handle-trigger").on("change",function(){var t=e(this);t.closest(".item").find(".item-handle h3").text(t.is("select")?t.find('option[value="'+t.val()+'"]').text():t.val())}),n.closest(".subgroup").find(".match-trigger .of-input").each(function(){var t=e(this);t.closest(".subgroup").find(".match .of-input").val(t.val())}),n.themeblvd("options","setup")})}),a.open()}}}(jQuery),function(e){themeblvd_column_widths={init:function(t){t.find(".section-column_widths").each(function(){themeblvd_column_widths.run(e(this).closest(".subgroup.columns"))})},run:function(t){var i={10:{2:{values:[0,5,10],display:["1/2","1/2"]},3:{values:[0,3,7,10],display:["3/10","2/5","3/10"]},4:{values:[0,2,5,8,10],display:["1/5","3/10","3/10","1/5"]},5:{values:[0,2,4,6,8,10],display:["1/5","1/5","1/5","1/5","1/5"]},6:{values:[0,1,3,5,7,9,10],display:["1/10","1/5","1/5","1/5","1/5","1/10"]}},12:{2:{values:[0,6,12],display:["1/2","1/2"]},3:{values:[0,4,8,12],display:["1/3","1/3","1/3"]},4:{values:[0,3,6,9,12],display:["1/4","1/4","1/4","1/4"]},5:{values:[0,2,4,8,10,12],display:["1/6","1/6","1/3","1/6","1/6"]},6:{values:[0,2,4,6,8,10,12],display:["1/6","1/6","1/6","1/6","1/6","1/6"]}}},n=t.find(".slider").attr("id"),o=12,a=3,d=0,s="",l=t.find(".column-width-input").val(),c=[];if(o=t.find(".select-grid-system").val(),a=t.find(".select-col-num").val(),t.find(".select-col-num").off("change.ui-slider"),t.find(".select-col-num").on("change.ui-slider",themeblvd_column_widths.change),t.find(".select-grid-system").off("change.ui-slider"),t.find(".select-grid-system").on("change.ui-slider",themeblvd_column_widths.change),0!=a){if(1==a)return t.find(".slider").append('<div class="column-preview col-1" style="width:100%"><span class="text">100%</span></div>'),void t.find(".column-width-input").val("1/1").trigger("themeblvd_update_columns");if(l){l=l.split("-"),a=l.length;for(var r=0;a>=r;r++)0===r?c[r]=0:r==a?c[r]=o:(s=l[r-1].split("/"),d+=o*s[0]/s[1],c[r]=d)}else c=i[o][a].values,l=i[o][a].display,t.find(".column-width-input").val(l.join("-")).trigger("themeblvd_update_columns");e("#"+n).slider({range:"max",min:0,max:o,step:1,values:c,create:function(){var e,i=0,n=0,d="";for(e=1;a>=e;e++)t.find(".slider").append('<div class="column-preview col-'+e+'"><span class="text">'+l[e-1]+"</span></div>"),n=(c[e]-c[e-1])/o*100,t.find(".col-"+e).css("width",n+"%"),e>1&&t.find(".col-"+e).css("left",i+"%"),i+=n;for(i=0,d='<div class="grid-display grid-'+o+'">',e=1;o>=e;e++)d+='<div class="grid-column grid-col-'+e+'"></div>';for(d+="</div>",t.find(".slider").append(d),e=1;o>=e;e++)i+=1/o*100,t.find(".grid-col-"+e).css("left",i+"%")},slide:function(i,n){var d=e(n.handle).index(),s=n.values,l=s.length;if(1==d||d==l)return!1;var c=e(n.handle).closest(".column-widths-wrap"),r=c.find(".column-width-input"),f=n.value,u=s[d],h=s[d-2],p=0,m=0,v="",b="",g=0,w=0,x="",y="",k=[],_=0,C=0;if(h>=f||f>=u)return!1;w=f-h,g=u-f,m=d-1,p=d,v=themeblvd_column_widths.reduce(w,o),v=v[0].toString()+"/"+v[1].toString(),b=themeblvd_column_widths.reduce(g,o),b=b[0].toString()+"/"+b[1].toString(),c.find('input[name="col['+m+']"]').val(v),c.find('input[name="col['+p+']"]').val(b),x=r.val(),x=x.split("-");for(var $=1;$<=x.length;$++)y+=$==m?v:$==p?b:x[$-1],$!=x.length&&(y+="-");for(r.val(y).trigger("themeblvd_update_columns"),k=y.split("-"),$=1;a>=$;$++)C=(s[$]-s[$-1])/o*100,t.find(".col-"+$).css("width",C+"%"),t.find(".col-"+$+" .text").text(k[$-1]),$>1&&t.find(".col-"+$).css("left",_+"%"),_+=C}})}},change:function(){var t=e(this),i=e("#"+t.data("slider"));i.data("uiSlider")&&i.slider("destroy"),i.html("").closest(".column-widths-wrap").find(".column-width-input").val(""),themeblvd_column_widths.run(t.closest(".subgroup.columns"))
},reduce:function(e,t){var i=function n(e,t){return t?n(t,e%t):e};return i=i(e,t),[e/i,t/i]}}}(jQuery),function(e){tbc_alert={init:function(t,i,n){var o='	<div id="tb-alert"> 										<div class="tb-alert-inner">  											<div class="tb-alert-pad">  												<div class="tb-alert-message"> 													<p>Replace this with message text.</p> 												</div> 											</div><!-- .tb-alert-pad (end) --> 										</div><!-- .tb-alert-inner (end) --> 									 </div><!-- .tb-alert (end) -->';n||(n="body"),e(n).append(o);var a=e("#tb-alert"),d=e(window).height();a.addClass("tb-"+i),a.find(".tb-alert-message p").text(t),"body"==n&&a.animate({top:d-(d-75)+e(window).scrollTop()+"px"},100),a.fadeIn(500,function(){setTimeout(function(){a.fadeOut(500,function(){a.remove()})},1500)})}}}(jQuery),function(e){tbc_confirm=function(t,i,n){var o,a,d,s=e("body"),l=e(window),c={confirm:!1,verify:!1,input:!1,input_desc:"",textOk:"Ok",textCancel:"Cancel",textYes:"Yes",textNo:"No","class":""};if(i)for(var r in c)"undefined"==typeof i[r]&&(i[r]=c[r]);s.append('<div class="appriseOverlay" id="aOverlay"></div>'),s.append('<div class="appriseOuter"></div>'),o=e(".appriseOuter"),o.append('<div class="appriseInner"></div>'),a=e(".appriseInner"),a.append(t),o.css("left",(l.width()-o.width())/2+l.scrollLeft()+"px"),o.css("top","100px").fadeIn(200),i&&i["class"]&&o.addClass(i["class"]),i&&i.input&&(a.append("string"==typeof i.input?'<div class="aInput"><input type="text" class="aTextbox" t="aTextbox" value="'+i.input+'" /></div>':"object"==typeof i.input?e('<div class="aInput"></div>').append(i.input):'<div class="aInput"><input type="text" class="aTextbox" t="aTextbox" /></div>'),i.input_desc&&o.find(".aTextbox").after("<label>"+i.input_desc+"</label>"),o.find(".aTextbox").focus()),a.append('<div class="aButtons"></div>'),d=e(".aButtons"),i?i.confirm||i.input?(d.append('<button class="button-primary" value="ok">'+i.textOk+"</button>"),d.append('<button class="button-secondary" value="cancel">'+i.textCancel+"</button>")):i.verify?(d.append('<button class="button-primary" value="ok">'+i.textYes+"</button>"),d.append('<button class="button-secondary" value="cancel">'+i.textNo+"</button>")):d.append('<button class="button-primary" value="ok">'+i.textOk+"</button>"):d.append('<button class="button-primary" value="ok">Ok</button>'),e(document).keydown(function(t){e(".appriseOverlay").is(":visible")&&(13==t.keyCode&&e('.aButtons > button[value="ok"]').click(),27==t.keyCode&&e('.aButtons > button[value="cancel"]').click())});var f=e(".aTextbox").val();e(".aTextbox").keyup(function(){f=e(this).val()}),d.find("button").on("click",function(){if(e(".appriseOverlay").remove(),o.remove(),n){var t=e(this).attr("value");"ok"==t?n(i?i.input?f:!0:!0):"cancel"==t&&n(!1)}})}}(jQuery),jQuery(document).ready(function(e){e(".themeblvd-icon-browser").themeblvd("options","setup"),e(".themeblvd-icon-browser").themeblvd("options","bind"),e(".themeblvd-icon-browser .select-icon").on("click",function(){var t=e(this),i=t.closest(".themeblvd-icon-browser"),n=t.data("icon");return i.find(".select-icon").removeClass("selected"),t.addClass("selected"),i.find(".icon-selection").val(n),i.find(".media-toolbar-secondary").find(".fa, span, img").remove(),i.find(".media-toolbar-secondary").append(t.hasClass("select-image-icon")?'<img src="'+t.find("img").attr("src")+'" /><span>'+n+"</span>":'<i class="fa fa-'+n+' fa-2x fa-fw"></i><span>'+n+"</span>"),!1}),e(".themeblvd-texture-browser").themeblvd("options","setup"),e(".themeblvd-texture-browser").themeblvd("options","bind"),e.isFunction(e.fn.wpColorPicker)&&e("#texture-browser-perview-color").wpColorPicker({change:function(){e(".themeblvd-texture-browser .select-texture span").css("background-color",e("#texture-browser-perview-color").val())}}),e(".themeblvd-texture-browser .wp-color-result").attr("title","Temporary Preview Color"),e(".themeblvd-texture-browser .select-texture span").css("background-color",e("#texture-browser-perview-color").val()),e(".themeblvd-texture-browser .select-texture").on("click",function(){var t=e(this);return t.closest(".themeblvd-texture-browser").find(".select-texture").each(function(){e(this).removeClass("selected")}),t.addClass("selected"),t.closest(".themeblvd-texture-browser").find(".texture-selection").val(t.data("texture")),t.closest(".themeblvd-texture-browser").find(".current-texture").text(t.data("texture-name")),!1}),e("#themeblvd_options_page .reset-button").click(function(){return tbc_confirm("<h3>"+themeblvd.reset_title+"</h3>"+themeblvd.reset,{confirm:!0},function(t){t&&(e("#themeblvd_options_page").append('<input type="hidden" name="reset" value="true" />'),e("#themeblvd_options_page").submit())}),!1}),e("#themeblvd_options_page .clear-button").click(function(){return tbc_confirm("<h3>"+themeblvd.clear_title+"</h3>"+themeblvd.clear,{confirm:!0},function(t){if(t){var i=e("#themeblvd_options_page"),n=i.find('input[name="option_page"]').val();i.attr("action",""),i.append('<input type="hidden" name="themeblvd_clear_options" value="'+n+'" />'),i.submit()}}),!1})});