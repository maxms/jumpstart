(function(b){var a={init:function(){var c=this;c.on("click",".widget-name-arrow",function(){var e=b(this),d=e.closest(".widget-name").hasClass("widget-name-closed");if(d){e.closest(".widget").find(".widget-content").show();e.closest(".widget").find(".widget-name").removeClass("widget-name-closed");e.closest(".widget").find(".section-code").each(function(){var f=b(this),g=f.find("textarea").data("CodeMirrorInstance");if(g){g.refresh()}})}else{e.closest(".widget").find(".widget-content").hide();e.closest(".widget").find(".widget-name").addClass("widget-name-closed")}return false});c.on("click",".tooltip-link",function(){var d=b(this).attr("title");tbc_confirm(d,{textOk:"Ok"});return false});c.on("click",".delete-me",function(){var d=b(this).attr("href");tbc_confirm(b(this).attr("title"),{confirm:true},function(e){if(e){b(d).remove()}});return false});c.find(".tb-fancy-select").each(function(){var d=b(this),e=d.find("select").val(),f=d.find('option[value="'+e+'"]').text();d.find(".textbox").text(f)})},options:function(c){return this.each(function(){var d=b(this);if(c=="setup"){d.find(".tb-fancy-select").each(function(){var e=b(this),f=e.find("select").val(),g=e.find('option[value="'+f+'"]').text();e.find(".textbox").text(g)});d.find(".custom-content-types").each(function(){var f=b(this),g=f.find("select").val(),e=f.closest(".subgroup");if(g=="external"){e.find(".page-content").show()}else{if(g=="raw"){e.find(".raw-content").show()}else{if(g=="widget_area"){e.find(".widget_area-content").show()}}}});d.find(".columns").each(function(){var g=b(this),f=1,e=g.find(".column-num").val();g.find(".column-width").hide();g.find(".column-width-"+e).show();g.find(".section-content").hide();while(f<=e){g.find(".col_"+f).show();f++}});d.find(".tabs").each(function(){var g=b(this),f=1,e=g.find(".tabs-num").val();g.find(".tab-names .tab-name").hide();g.find(".section-content").hide();while(f<=e){g.find(".tab-names .tab-name-"+f).show();g.find("#section-tab_"+f).show();f++}});d.find(".section-content").each(function(){var f=b(this),e=f.find(".column-content-types select.select-type").val();f.find(".column-content-type").hide();f.find(".column-content-type-"+e).show()});d.find(".show-hide").each(function(){var e=b(this),f=e.find(".trigger input");if(f.is(":checked")){e.find(".receiver").show()}});d.find(".show-hide-toggle").each(function(){var e=b(this),f=e.find(".trigger select").val();e.find(".receiver").hide();e.find(".receiver-"+f).show()});d.find(".section-logo").each(function(){var e=b(this),f=e.find(".select-type select").val();e.find(".logo-item").hide();e.find("."+f).show()});d.find(".section-social_media").each(function(){var e=b(this);e.find(".social_media-input").hide();e.find(".checkbox").each(function(){var f=b(this);if(f.is(":checked")){f.closest(".item").addClass("active").find(".social_media-input").show()}else{f.closest(".item").removeClass("active").find(".social_media-input").hide()}})});d.find(".section-typography .of-typography-face").each(function(){var e=b(this),f=e.val();if(f=="google"){e.closest(".section-typography").find(".google-font").fadeIn("fast")}else{e.closest(".section-typography").find(".google-font").hide()}});d.find("#section-homepage_content").each(function(){var e=b(this).find("input:checked").val();if(e!="custom_layout"){d.find("#section-homepage_custom_layout").hide()}});d.find(".colorSelector").each(function(){var e=this;var f=b(e).next("input").attr("value");b(this).ColorPicker({color:f,onShow:function(g){b(g).fadeIn(500);return false},onHide:function(g){b(g).fadeOut(500);return false},onChange:function(g,i,h){b(e).children("div").css("backgroundColor","#"+i);b(e).next("input").attr("value","#"+i)}})});d.find(".of-radio-img-img").click(function(){b(this).parent().parent().find(".of-radio-img-img").removeClass("of-radio-img-selected");b(this).addClass("of-radio-img-selected")});d.find(".of-radio-img-label").hide();d.find(".of-radio-img-img").show();d.find(".of-radio-img-radio").hide();if(typeof wpColorPicker!=="undefined"){d.find(".tb-color-picker").wpColorPicker()}d.find(".tb-tooltip-link").click(function(){b(".themeblvd-tooltip").remove();var f=b(this),e=f.data("tooltip-toggle");if(e==2){f.data("tooltip-toggle",1)}else{f.data("tooltip-toggle",2)}})}else{if(c=="bind"){d.on("change",".tb-fancy-select select",function(){var e=b(this),f=e.val(),g=e.find('option[value="'+f+'"]').text();e.closest(".tb-fancy-select").find(".textbox").text(g)});d.on("change",".custom-content-types select",function(){var f=b(this),g=f.val(),e=f.closest(".subgroup");if(g=="current"){e.find(".page-content").fadeOut("fast");e.find(".raw-content").fadeOut("fast");e.find(".widget_area-content").fadeOut("fast")}else{if(g=="external"){e.find(".page-content").fadeIn("fast");e.find(".raw-content").hide();e.find(".widget_area-content").hide()}else{if(g=="raw"){e.find(".raw-content").fadeIn("fast");e.find(".page-content").hide();e.find(".widget_area-content").hide()}else{if(g=="widget_area"){e.find(".widget_area-content").fadeIn("fast");e.find(".raw-content").hide();e.find(".page-content").hide()}}}}});d.on("change",".columns .column-num",function(){var h=b(this),f=1,e=h.val(),g=h.closest(".columns");g.find(".column-width").hide();g.find(".column-width-"+e).fadeIn("fast");g.find(".section-content").hide();while(f<=e){g.find(".col_"+f).show();f++}});d.on("change",".tabs .tabs-num",function(){var h=b(this),f=1,e=h.val(),g=h.closest(".tabs");g.find(".tab-names .tab-name").hide();g.find(".section-content").hide();while(f<=e){g.find(".tab-names .tab-name-"+f).show();g.find("#section-tab_"+f).show();f++}});d.on("change",".column-content-types select.select-type",function(){var f=b(this).closest(".section-content"),e=b(this).val();f.find(".column-content-type").hide();f.find(".column-content-type-"+e).show()});d.on("click",".show-hide .trigger input",function(){var e=b(this);if(e.is(":checked")){e.closest(".show-hide").find(".receiver").fadeIn("fast")}else{e.closest(".show-hide").find(".receiver").hide()}});d.on("change",".show-hide-toggle .trigger select",function(){var e=b(this),f=e.val(),g=e.closest(".show-hide-toggle");g.find(".receiver").hide();g.find(".receiver-"+f).show()});d.on("change",".section-logo .select-type select",function(){var f=b(this),e=f.closest(".section-logo"),g=f.val();e.find(".logo-item").hide();e.find("."+g).show()});d.on("click",".section-social_media .checkbox",function(){var e=b(this);if(e.is(":checked")){e.closest(".item").addClass("active").find(".social_media-input").fadeIn("fast")}else{e.closest(".item").removeClass("active").find(".social_media-input").hide()}});d.on("change",".section-typography .of-typography-face",function(){var e=b(this),f=e.val();if(f=="google"){e.closest(".section-typography").find(".google-font").fadeIn("fast")}else{e.closest(".section-typography").find(".google-font").hide()}});d.on("change","#section-homepage_content input:checked",function(){if(b(this).val()=="custom_layout"){d.find("#section-homepage_custom_layout").fadeIn("fast")}else{d.find("#section-homepage_custom_layout").fadeOut("fast")}});if(b.isFunction(b.fn.ThemeBlvdModal)){d.find(".tb-modal-link").ThemeBlvdModal()}d.on("mouseenter",".tb-tooltip-link",function(){var i=b(this);var g=i.data("tooltip-position"),j=i.offset().left,h=i.offset().top,k=i.data("tooltip-text"),l='<div class="themeblvd-tooltip %position%"> 										   <div class="tooltip-inner"> 										     %text% 										   </div> 										   <div class="tooltip-arrow"></div> 										</div>';if(!k&&i.data("tooltip-toggle")){k=i.data("tooltip-text-"+i.data("tooltip-toggle"))}if(!k){k=i.attr("title")}if(!g){g="top"}l=l.replace("%position%",g);l=l.replace("%text%",k);b("body").append(l);var m=b(".themeblvd-tooltip"),e=m.outerHeight(),f=m.outerWidth();switch(g){case"left":j=j-f-5;h=h+(0.5*i.outerHeight());h=h-e/2;break;case"right":j=j+i.outerWidth()+5;h=h+(0.5*i.outerHeight());h=h-e/2;break;case"bottom":j=j+(0.5*i.outerWidth());j=j-f/2;h=h+i.outerHeight()+2;break;case"top":default:j=j+(0.5*i.outerWidth());j=j-f/2;h=h-e-2}m.css({top:h+"px",left:j+"px"}).addClass("fade in")});d.on("mouseleave",".tb-tooltip-link",function(){b(".themeblvd-tooltip").remove()})}else{if(c=="media-uploader"){if(typeof wp!=="undefined"&&typeof wp.media!=="undefined"){themeblvd_media_uploader.init(d)}}else{if(c=="editor"){if(b.isFunction(b.fn.ThemeBlvdModal)){d.find(".tb-textarea-editor-link").ThemeBlvdModal({build:false,padding:true,size:"custom",on_load:function(){wpActiveEditor="themeblvd_editor";var g=this,h,l="themeblvd_editor",f,j,i="",k=typeof tinymce!=="undefined",e=g.$modal_window;if(g.$elem.is(".tb-content-block-editor-link")){j=g.$elem.closest(".content-block").data("field-name");f=g.$elem.closest(".content-block").find('textarea[name="'+j+'[content]"]')}else{f=g.$elem.closest(".textarea-wrap").find("textarea")}i=f.val();e.find(".wp-editor-area, iframe").height(300);if(e.find(".wp-editor-wrap").is(".tmce-active")){if(k){h=tinymce.get(l)}if(h){i=window.switchEditors.wpautop(i);h.setContent(i,{format:"raw"})}}else{e.find("textarea").val(i)}f.css("overflow","hidden")},on_save:function(){wpActiveEditor="content";var g=this,h,l="themeblvd_editor",j,i,f,k=typeof tinymce!=="undefined",e=g.$modal_window;if(g.$elem.is(".tb-content-block-editor-link")){i=g.$elem.closest(".content-block").data("field-name");f=g.$elem.closest(".content-block").find('textarea[name="'+i+'[content]"]')}else{f=g.$elem.closest(".textarea-wrap").find("textarea")}if(e.find(".wp-editor-wrap").is(".tmce-active")){if(k){h=tinymce.get(l)}if(h){j=h.getContent();j=window.switchEditors.pre_wpautop(j)}}else{j=e.find(".wp-editor-area").val()}f.val(j);f.css("overflow","visible")},on_cancel:function(){wpActiveEditor="content";this.$elem.closest(".textarea-wrap").find("textarea").css("overflow","visible")}})}}else{if(c=="code-editor"&&typeof CodeMirror!=="undefined"){if(b.isFunction(b.fn.ThemeBlvdModal)){d.find(".tb-textarea-code-link").ThemeBlvdModal({code_editor:true,size:"medium"})}d.find(".section-code").each(function(){var g=b(this),e=g.find("textarea"),i=e.data("code-lang"),h,f;f=e.data("CodeMirrorInstance");if(!f){if(i=="html"){h={name:"htmlmixed",scriptTypes:[{matches:/\/x-handlebars-template|\/x-mustache/i,mode:null},{matches:/(text|application)\/(x-)?vb(a|script)/i,mode:"vbscript"}]}}else{h=i}f=CodeMirror.fromTextArea(document.getElementById(e.attr("id")),{mode:h,lineNumbers:true,theme:"themeblvd",indentUnit:4,tabSize:4,indentWithTabs:true});f.on("blur",function(){e.val(f.getValue())});e.data("CodeMirrorInstance",f)}})}}}}}})},widgets:function(){return this.each(function(){var c=b(this);c.find(".widget-content").hide();c.find(".widget-name").addClass("widget-name-closed")})},accordion:function(){return this.each(function(){var c=b(this);c.find(".element-content").hide();c.find(".element-content:first").show();c.find(".element-trigger:first").addClass("active");c.find(".element-trigger").click(function(){var d=b(this);if(!d.hasClass("active")){c.find(".element-content").hide();c.find(".element-trigger").removeClass("active");d.addClass("active");d.next(".element-content").show()}return false})})}};b.fn.themeblvd=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist.")}}}})(jQuery);(function(a){themeblvd_media_uploader={init:function(b){b.find(".upload-button").on("click",function(){themeblvd_media_uploader.add_file(a(this).closest(".section-upload, .section-media"))});b.find(".remove-image, .remove-file").on("click",function(){themeblvd_media_uploader.remove_file(a(this).closest(".section-upload, .section-media"))})},add_file:function(c){var g,i=c.find(".trigger").data("type"),e=c.find(".trigger").data("title"),f=c.find(".trigger").data("select"),h=c.find(".trigger").data("class"),b="image",j=false,d="select";if(i=="video"){b="video"}if(i=="standard"||i=="media"){b=""}if(i=="quick_slider"||i=="media"){j=true}if(i=="media"){d="post"}g=wp.media.frames.file_frame=wp.media({frame:d,className:"media-frame "+h,title:e,library:{type:b},button:{text:f},multiple:j});g.on("select",function(){var l=g.state().get("selection").first(),k=c.find(".trigger").data("remove"),m;c.find(".image-url").val(l.attributes.url);if(l.attributes.type=="image"){c.find(".screenshot").empty().hide().append('<img src="'+l.attributes.url+'"><a class="remove-image"></a>').slideDown("fast")}if(i=="logo"){c.find(".image-width").val(l.attributes.width)}if(i=="video"){c.find(".video-url").val(l.attributes.url)}if(i=="slider"){c.find(".image-id").val(l.attributes.id);c.find(".image-title").val(l.attributes.title);m=c.find(".image-title").val();if(m){c.closest(".widget").find(".slide-summary").text(m).fadeIn(200)}}if(i!="video"&&i!="media"){c.find(".upload-button").unbind().addClass("remove-file").removeClass("upload-button").val(k);c.find(".of-background-properties").slideDown();c.find(".remove-image, .remove-file").click(function(){themeblvd_media_uploader.remove_file(a(this).closest(".section-upload"))})}if(i=="media"){}});g.on("close",function(){c.find(".upload-button").unbind("click");c.find(".upload-button").on("click",function(){themeblvd_media_uploader.add_file(a(this).closest(".section-upload, .section-media"))})});g.open()},remove_file:function(b){var d=b.find(".trigger").data("upload"),c=b.find(".trigger").data("type");if(c=="slider"){b.closest(".widget").find(".slide-summary").removeClass("image video").hide().text("")}b.find(".remove-image").hide();b.find(".upload").val("");b.find(".of-background-properties").hide();b.find(".screenshot").slideUp();b.find(".remove-file").addClass("upload-button").removeClass("remove-file").val(d);b.find(".upload-button").click(function(){themeblvd_media_uploader.add_file(a(this).closest(".section-upload"))})}}})(jQuery);(function(a){tbc_alert={init:function(f,d,b){var c='	<div id="tb-alert"> 										<div class="tb-alert-inner">  											<div class="tb-alert-pad">  												<div class="tb-alert-message"> 													<p>Replace this with message text.</p> 												</div> 											</div><!-- .tb-alert-pad (end) --> 										</div><!-- .tb-alert-inner (end) --> 									 </div><!-- .tb-alert (end) -->';if(!b){b="body"}a(b).append(c);var g=a("#tb-alert"),e=a(window).height();g.addClass("tb-"+d);g.find(".tb-alert-message p").text(f);if(b=="body"){g.animate({top:(e-(e-75))+a(window).scrollTop()+"px"},100)}g.fadeIn(500,function(){setTimeout(function(){g.fadeOut(500,function(){g.remove()})},1500)})}}})(jQuery);(function(a){tbc_confirm=function(e,d,g){var b={confirm:false,verify:false,input:false,textOk:"Ok",textCancel:"Cancel",textYes:"Yes",textNo:"No"};if(d){for(var c in b){if(typeof d[c]=="undefined"){d[c]=b[c]}}}a("body").append('<div class="appriseOverlay" id="aOverlay"></div>');a("body").append('<div class="appriseOuter"></div>');a(".appriseOuter").append('<div class="appriseInner"></div>');a(".appriseInner").append(e);a(".appriseOuter").css("left",(a(window).width()-a(".appriseOuter").width())/2+a(window).scrollLeft()+"px");a(".appriseOuter").css("top","100px").fadeIn(200);a(".appriseInner").append('<div class="aButtons"></div>');if(d){if(d.confirm||d.input){a(".aButtons").append('<button class="button-primary" value="ok">'+d.textOk+"</button>");a(".aButtons").append('<button class="button-secondary" value="cancel">'+d.textCancel+"</button>")}else{if(d.verify){a(".aButtons").append('<button class="button-primary" value="ok">'+d.textYes+"</button>");a(".aButtons").append('<button class="button-secondary" value="cancel">'+d.textNo+"</button>")}else{a(".aButtons").append('<button class="button-primary" value="ok">'+d.textOk+"</button>")}}}else{a(".aButtons").append('<button class="button-primary" value="ok">Ok</button>')}a(document).keydown(function(h){if(a(".appriseOverlay").is(":visible")){if(h.keyCode==13){a('.aButtons > button[value="ok"]').click()}if(h.keyCode==27){a('.aButtons > button[value="cancel"]').click()}}});var f=a(".aTextbox").val();if(!f){f=false}a(".aTextbox").keyup(function(){f=a(this).val()});a(".aButtons > button").click(function(){a(".appriseOverlay").remove();a(".appriseOuter").remove();if(g){var h=a(this).attr("value");if(h=="ok"){if(d){if(d.input){g(f)}else{g(true)}}else{g(true)}}else{if(h=="cancel"){g(false)}}}})}})(jQuery);jQuery(document).ready(function(a){a("#themeblvd_options_page .reset-button").click(function(){tbc_confirm("<h3>"+themeblvd.reset_title+"</h3>"+themeblvd.reset,{confirm:true},function(b){if(b){a("#themeblvd_options_page").append('<input type="hidden" name="reset" value="true" />');a("#themeblvd_options_page").submit()}});return false});a("#themeblvd_options_page .clear-button").click(function(){tbc_confirm("<h3>"+themeblvd.clear_title+"</h3>"+themeblvd.clear,{confirm:true},function(d){if(d){var c=a("#themeblvd_options_page"),b=c.find('input[name="option_page"]').val();c.attr("action","");c.append('<input type="hidden" name="themeblvd_clear_options" value="'+b+'" />');c.submit()}});return false})});